import{Q as b,r as h,R as p,c as f,n as t,m as a,o as m,a2 as d,b as _,F as S,a4 as T,l as w,u,a3 as x}from"./index-2BP_lAh-.js";import{a as g}from"./axios-G2rPRu76.js";import{V as n,a as r}from"./VRow-xKr1Tf61.js";import{a as C,b as k,V as z}from"./VCard-LeQVuWP8.js";import{V as F}from"./VForm-N6boVIal.js";import{V as y}from"./VCheckbox-hVkc9jZc.js";/* empty css              */import"./VAvatar-nprCTEVN.js";import"./VImg-noq4ZFey.js";import"./form-v140H6Iy.js";import"./forwardRefs-y8pOSn8h.js";import"./VCheckboxBtn-qa1S9f3S.js";import"./VLabel-PkvqaiGN.js";import"./VInput-fOfT7lUm.js";import"./index-QAR5VDvd.js";const I={__name:"TimetableSettings",setup(A){b();let c=window.location.protocol+"//"+window.location.hostname+":8080";const e=h({year:2024,term:"",title:"",grades:[],sel:[!1,!1,!0]});let i=[1,2,3,4];const v=()=>{e.value.grades=[];for(const l in e.value.sel)e.value.sel[l]&&e.value.grades.push(i[l]);g.post(c+"/api/v1/timetable/setSpecializedGrades",e.value.grades,{headers:{Authorization:p.get("Authorization")}}).then(l=>{console.log(l),e.value.success=!0,window.setTimeout(()=>{e.value.success=!1},2e3)}).catch(l=>{console.log(l);var s="";l.response.data.message?s=l.response.data.message:s=l.response.data,alert("error "+s)})};return g.get(c+"/api/v1/timetable/getSpecializedGrades",{headers:{Authorization:p.get("Authorization")}}).then(l=>{console.log(l),e.value.grades=l.data,console.log(e.value.grades),e.value.sel=[];for(var s in i)e.value.grades.includes(i[s])?e.value.sel.push(!0):e.value.sel.push(!1);console.log(e.value.sel)}),(l,s)=>(m(),f("div",null,[t(n,null,{default:a(()=>[t(r,null,{default:a(()=>[t(d,{text:"TimeTable Home",to:"/teachingTimeTable"})]),_:1}),t(r,null,{default:a(()=>[t(d,{text:"TimeTable Settings",to:"/timetableSettings"})]),_:1})]),_:1}),t(n,null,{default:a(()=>[t(r,null,{default:a(()=>[t(C,null,{default:a(()=>[t(k,null,{default:a(()=>[_(" Select Forms With Selected Subjects ")]),_:1}),t(z,null,{default:a(()=>[t(F,{onSubmit:s[1]||(s[1]=o=>{l.preventDefault(),l.submitform()})},{default:a(()=>[t(n,null,{default:a(()=>[t(r,{md:"6",cols:"12"},{default:a(()=>[(m(!0),f(S,null,T(u(i),o=>(m(),w(y,{key:o,label:`Form ${o}`,modelValue:u(e).sel[o-1],"onUpdate:modelValue":V=>u(e).sel[o-1]=V},null,8,["label","modelValue","onUpdate:modelValue"]))),128))]),_:1})]),_:1}),t(n,null,{default:a(()=>[t(r,null,{default:a(()=>[t(d,{text:u(e).success?"Saved Successfully":"Update Changes",type:"Submit",onClick:s[0]||(s[0]=x(o=>v(),["prevent"])),color:u(e).success?"success":"primary"},null,8,["text","color"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]))}};export{I as default};
