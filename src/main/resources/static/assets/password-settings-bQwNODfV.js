import{X as q,j as D,r as s,c as g,b as e,w as l,u as t,q as p,o as y,F as k,a4 as A,V as h,B as c,t as T,a as d,a2 as x,Y as N}from"./index-zYAuA0qV.js";import{a as R}from"./axios-G2rPRu76.js";import{V as L,a as $,b as E,c as O}from"./VWindowItem-N7MGzs8Y.js";import{V as r,a as u}from"./VRow-7mHl22X1.js";import{a as z,V as b,b as W}from"./VCard-Mp1410Mc.js";import{V as J}from"./VForm-8SLQ-6iH.js";import{V as C}from"./VTextField-JQu1_MM5.js";import"./easing-Apq16fr0.js";import"./index-Dx9PTrLH.js";import"./lazy-p-tG6HZU.js";import"./ssrBoot-sA4uMkfL.js";import"./VImg-XJYe2yvh.js";/* empty css              */import"./VAvatar-BX0ZOUQe.js";import"./form-5RZ1SEPf.js";import"./forwardRefs-y8pOSn8h.js";import"./VField-pvgEwNC3.js";import"./VLabel-H24OS9-G.js";const M=d("p",{class:"text-base font-weight-medium mt-2"}," Password Requirements: ",-1),X={class:"d-flex flex-column gap-y-3"},Y={class:"font-weight-medium"},G=d("p",null," This could be used incase you forgot to logout on a suspicious device or you suspect your account could have been hacked ",-1),we={__name:"password-settings",setup(H){const U=q();let P=window.location.protocol+"//"+window.location.hostname+":8080";const B=D(),i=s(B.params.tab),I=[{title:"Password Settings",icon:"ri-lock-line",tab:"security"}],m=s(!1),f=s(!1),w=s(!1),V=s(""),v=s(""),_=s(""),F=["Minimum 8 characters long - the more, the better","At least one lowercase character","At least one number, symbol, or whitespace character"],S=()=>{R.get(P+"/api/v1/user/logOutAllDevices",{headers:{"Content-Type":"application/json",Authorization:N.get("Authorization")}}).then(n=>{console.log(n),U.push("/login")})},j=()=>{R.put(P+"/api/v1/user/updatePassword",{oldPassword:V.value,newPassword:v.value,confirmPassword:_.value},{headers:{"Content-Type":"application/json",Authorization:N.get("Authorization")}}).then(n=>{console.log(n),alert(n.data)}).catch(n=>{console.log(n),alert("Error: "+JSON.stringify(n.response.data))})};return(n,a)=>(y(),g("div",null,[e(L,{modelValue:t(i),"onUpdate:modelValue":a[0]||(a[0]=o=>p(i)?i.value=o:null),"show-arrows":""},{default:l(()=>[(y(),g(k,null,A(I,o=>e(E,{key:o.icon,value:o.tab},{default:l(()=>[e(h,{size:"20",start:"",icon:o.icon},null,8,["icon"]),c(" "+T(o.title),1)]),_:2},1032,["value"])),64))]),_:1},8,["modelValue"]),e($,{modelValue:t(i),"onUpdate:modelValue":a[7]||(a[7]=o=>p(i)?i.value=o:null),class:"mt-5 disable-tab-transition",touch:!1},{default:l(()=>[e(O,{value:"security"},{default:l(()=>[e(r,null,{default:l(()=>[e(u,{cols:"12"},{default:l(()=>[e(z,{title:"Change Password"},{default:l(()=>[e(J,null,{default:l(()=>[e(b,null,{default:l(()=>[e(r,{class:"mb-3"},{default:l(()=>[e(u,{cols:"12",md:"6"},{default:l(()=>[e(C,{modelValue:t(V),"onUpdate:modelValue":a[1]||(a[1]=o=>p(V)?V.value=o:null),type:t(m)?"text":"password","append-inner-icon":t(m)?"ri-eye-off-line":"ri-eye-line",autocomplete:"on",label:"Current Password",placeholder:"············","onClick:appendInner":a[2]||(a[2]=o=>m.value=!t(m))},null,8,["modelValue","type","append-inner-icon"])]),_:1})]),_:1}),e(r,null,{default:l(()=>[e(u,{cols:"12",md:"6"},{default:l(()=>[e(C,{modelValue:t(v),"onUpdate:modelValue":a[3]||(a[3]=o=>p(v)?v.value=o:null),type:t(f)?"text":"password","append-inner-icon":t(f)?"ri-eye-off-line":"ri-eye-line",label:"New Password",autocomplete:"on",placeholder:"············","onClick:appendInner":a[4]||(a[4]=o=>f.value=!t(f))},null,8,["modelValue","type","append-inner-icon"])]),_:1}),e(u,{cols:"12",md:"6"},{default:l(()=>[e(C,{modelValue:t(_),"onUpdate:modelValue":a[5]||(a[5]=o=>p(_)?_.value=o:null),type:t(w)?"text":"password","append-inner-icon":t(w)?"ri-eye-off-line":"ri-eye-line",autocomplete:"on",label:"Confirm New Password",placeholder:"············","onClick:appendInner":a[6]||(a[6]=o=>w.value=!t(w))},null,8,["modelValue","type","append-inner-icon"])]),_:1})]),_:1})]),_:1}),e(b,null,{default:l(()=>[M,d("ul",X,[(y(),g(k,null,A(F,o=>d("li",{key:o,class:"d-flex"},[d("div",null,[e(h,{size:"7",icon:"ri-checkbox-blank-circle-fill",class:"me-3"})]),d("span",Y,T(o),1)])),64))])]),_:1}),e(b,{class:"d-flex flex-wrap gap-4"},{default:l(()=>[e(x,{onClick:j},{default:l(()=>[c("Save changes")]),_:1}),e(x,{type:"reset",color:"secondary",variant:"outlined"},{default:l(()=>[c(" Reset ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(r,null,{default:l(()=>[e(r,null,{default:l(()=>[e(u,null,{default:l(()=>[e(z,null,{default:l(()=>[e(W,null,{default:l(()=>[c(" Logging out from all devices ")]),_:1}),e(b,null,{default:l(()=>[e(r,null,{default:l(()=>[e(u,null,{default:l(()=>[G]),_:1})]),_:1}),e(r,null,{default:l(()=>[e(u,null,{default:l(()=>[e(x,{color:"error",variant:"outlined",onClick:S},{default:l(()=>[e(h,{icon:"ri-logout-box-r-line"}),c(" Logout Account from All Devices ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}};export{we as default};
