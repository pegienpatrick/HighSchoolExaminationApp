import{a as m}from"./axios-G2rPRu76.js";import{_,X as V,r as j,Y as d,c as S,b as s,w as r,o as w,a2 as x,u as o}from"./index-3uUFeXcg.js";import{V as h,a as v}from"./VRow-UU1fccdi.js";import{V as A}from"./VSelect-C0fqVgoO.js";import{V as R}from"./VTextField-Phqe5lVY.js";import{V as k}from"./VDataTable-TewVJML3.js";/* empty css              */import"./form-8PUB2eZX.js";import"./forwardRefs-y8pOSn8h.js";import"./VMenu-xOrOy9PG.js";import"./index-sRvP5cId.js";import"./ssrBoot-jQU1c1QP.js";import"./VImg-bms_ykK-.js";import"./VAvatar-3Z7fVEfd.js";import"./VDivider-VerPHPHA.js";import"./VOverlay-WYDOIMRv.js";import"./easing-imumzmxr.js";import"./lazy-5BVcfTVI.js";import"./VCheckboxBtn-sekNXsxb.js";import"./VField-bCgQehKU.js";import"./VChip--hfugiK0.js";import"./VTable-i7vVlc--.js";const M={__name:"generateMeritList",setup(N){const i=V(),e=j({data:[],headers:[],search:""});let n=window.location.protocol+"//"+window.location.hostname+":8080",g=i.currentRoute.value.query.exam,b=i.currentRoute.value.query.stage,c=[];const l=new Map;m.get(n+"/api/v1/subjectSelection/availableSubjects",{headers:{Authorization:d.get("Authorization")}}).then(t=>{console.log(t),c=t.data,c.forEach(a=>{l.set(a.subjectCode,{subjectName:a.subjectName,subjectRep:a.subjectRep})}),console.log(l),console.log(l.get(101))}),m.get(n+`/api/v1/meritList/generate/${g}/${b}`,{headers:{"Content-Type":"application/json",Authorization:d.get("Authorization")}}).then(t=>{console.log(t);let a=t.data;e.value.data=a,e.value.headers=[{title:"Overall Pos",value:"classRank"},{title:"Stream",value:"stream"},{title:"Stream Pos",value:"streamRank"},{title:"Adm No",value:"admNo"},{title:"Student Name",value:"studentName"}],l.forEach((p,u)=>{e.value.headers.push({title:l.get(u).subjectRep,value:"subjectMarks."+u}),e.value.headers.push({title:"G",value:"subjectGrades."+u})}),e.value.headers.push({title:"Aggr Points",value:"points"}),e.value.headers.push({title:"Aggr Grade",value:"aggregateGrade"}),e.value.headers.push({title:"Entry Marks",value:"kcpeMarks"}),console.log(e.value.headers)}).catch(t=>{console.log(t),(t.response&&t.response.status===401||t.response.status===403)&&window.open("/login","_blank")});let f="";return(t,a)=>(w(),S("div",null,[s(h,null,{default:r(()=>[s(v,null,{default:r(()=>[s(A,{label:"Select Stream ",items:["All","A","B","C"]})]),_:1}),s(v,null,{default:r(()=>[s(x,{text:"Fetch Stream MeritList"})]),_:1})]),_:1}),s(h,null,{default:r(()=>[s(R,{modelValue:o(e).search,"onUpdate:modelValue":a[0]||(a[0]=p=>o(e).search=p),label:"Search",onInput:o(f)},null,8,["modelValue","onInput"]),s(k,{items:o(e).data,class:"elevation-1 custom-table",striped:"",search:o(e).search,headers:o(e).headers},null,8,["items","search","headers"])]),_:1})]))}},W=_(M,[["__scopeId","data-v-908d26e0"]]);export{W as default};
