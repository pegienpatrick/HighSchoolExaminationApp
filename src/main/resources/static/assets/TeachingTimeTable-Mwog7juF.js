import{a as h}from"./axios-G2rPRu76.js";import{Q as z,r as _,ac as A,c as P,n as e,m as t,R as b,o as B,a2 as c,u as n,i as y,a as u,b as T,V as v}from"./index-X88cYckp.js";import{V as d,a as i}from"./VRow--DH0OlrG.js";import{a as x,V as C}from"./VCard-2lCtGSh5.js";import{V as w}from"./VSpacer-m6FNV0b6.js";import{V as E,b as V,a as L,c as g}from"./VWindowItem-8yZacQWw.js";/* empty css              */import"./VAvatar-xNVLu_zy.js";import"./VImg-3Fu6JOgo.js";import"./easing-Apq16fr0.js";import"./index-OxmK_WeS.js";import"./lazy-0Mla-vjI.js";import"./ssrBoot-pfXuwWP8.js";const N=["download","href"],W=["src","title"],j=["download","href"],F=["src","title"],O=["download","href"],S=["src","title"],ae={__name:"TeachingTimeTable",setup(I){z();const s=_("class"),f=_(!1),o=_({data1:"",title1:"",data2:"",title2:"",data3:"",title3:""}),U=()=>{const r=window.location.protocol+"//"+window.location.hostname+":8080"+"/api/v1/timetable/classTimeTable";h.get(r,{responseType:"blob",headers:{Authorization:b.get("Authorization")}}).then(l=>{const m=new Blob([l.data],{type:"application/pdf"}),a=document.createElement("a");a.href=URL.createObjectURL(m),a.download=" Class Time Table.pdf",document.body.appendChild(a),document.body.removeChild(a),o.value.data1=a.href,o.value.title1=a.download,R()}).catch(l=>{console.error("Error fetching PDF:",l)})},R=()=>{const r=window.location.protocol+"//"+window.location.hostname+":8080"+"/api/v1/timetable/teachersTimeTable";h.get(r,{responseType:"blob",headers:{Authorization:b.get("Authorization")}}).then(l=>{const m=new Blob([l.data],{type:"application/pdf"}),a=document.createElement("a");a.href=URL.createObjectURL(m),a.download=" Teachers Time Table.pdf",document.body.appendChild(a),document.body.removeChild(a),o.value.data2=a.href,o.value.title2=a.download,k()}).catch(l=>{console.error("Error fetching PDF:",l)})},k=()=>{const r=window.location.protocol+"//"+window.location.hostname+":8080"+"/api/v1/timetable/venuesTimeTable";h.get(r,{responseType:"blob",headers:{Authorization:b.get("Authorization")}}).then(l=>{const m=new Blob([l.data],{type:"application/pdf"}),a=document.createElement("a");a.href=URL.createObjectURL(m),a.download=" Venues Time Table.pdf",document.body.appendChild(a),document.body.removeChild(a),o.value.data3=a.href,o.value.title3=a.download}).catch(l=>{console.error("Error fetching PDF:",l)})};A(()=>{U()});const D=()=>{f.value=!0;const r=window.location.protocol+"//"+window.location.hostname+":8080"+"/api/v1/timetable/regenerate";h.get(r,{headers:{Authorization:b.get("Authorization")}}).then(l=>{console.log(l),f.value=!1,U()})};return(p,r)=>(B(),P("div",null,[e(d,null,{default:t(()=>[e(i,null,{default:t(()=>[e(x,null,{default:t(()=>[e(C,null,{default:t(()=>[e(d,null,{default:t(()=>[e(i,null,{default:t(()=>[e(c,{text:"TimeTable Settings",to:"/timetableSettings"})]),_:1}),e(i,null,{default:t(()=>[e(c,{text:"Lessons Per Week",to:"/lessonsPerWeek"})]),_:1}),e(i,null,{default:t(()=>[e(c,{onClick:D,text:"Generate New TimeTable",loading:n(f),color:n(f).value?"success":"primary"},null,8,["loading","color"])]),_:1})]),_:1}),e(d,null,{default:t(()=>[e(w)]),_:1}),e(d,null,{default:t(()=>[e(w)]),_:1}),e(d,null,{default:t(()=>[e(i,null,{default:t(()=>[e(E,{modelValue:n(s),"onUpdate:modelValue":r[0]||(r[0]=l=>y(s)?s.value=l:null),"show-arrows":""},{default:t(()=>[e(V,{text:"Classes TimeTable",value:"class"}),e(V,{text:"Teachers TimeTable",value:"teacher"}),e(V,{text:"Venues TimeTable",value:"venue"})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(d,null,{default:t(()=>[e(w)]),_:1}),e(d,null,{default:t(()=>[e(w)]),_:1}),e(d,null,{default:t(()=>[e(i,null,{default:t(()=>[e(x,null,{default:t(()=>[e(C,null,{default:t(()=>[e(d,null,{default:t(()=>[e(i,null,{default:t(()=>[e(L,{modelValue:n(s),"onUpdate:modelValue":r[1]||(r[1]=l=>y(s)?s.value=l:null),class:"mt-5 disable-tab-transition",touch:!1},{default:t(()=>[e(g,{value:"class"},{default:t(()=>[u("a",{class:"btn btn-primary",color:"success",download:n(o).title1,href:n(o).data1},[e(c,{text:"Download"},{default:t(()=>[T(" Download _ "),e(v,{icon:"ri-download-line"})]),_:1})],8,N),u("iframe",{src:n(o).data1,width:"100%",height:"1000",frameborder:"0",title:n(o).title1},null,8,W)]),_:1}),e(g,{value:"teacher"},{default:t(()=>[u("a",{class:"btn btn-primary",color:"success",download:n(o).title2,href:n(o).data2},[e(c,{text:"Download"},{default:t(()=>[T(" Download _ "),e(v,{icon:"ri-download-line"})]),_:1})],8,j),u("iframe",{src:n(o).data2,width:"100%",height:"1000",frameborder:"0",title:n(o).title2},null,8,F)]),_:1}),e(g,{value:"venue"},{default:t(()=>[u("a",{class:"btn btn-primary",color:"success",download:n(o).title3,href:n(o).data3},[e(c,{text:"Download"},{default:t(()=>[T(" Download _ "),e(v,{icon:"ri-download-line"})]),_:1})],8,O),u("iframe",{src:n(o).data3,width:"100%",height:"1000",frameborder:"0",title:n(o).title3},null,8,S)]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]))}};export{ae as default};
