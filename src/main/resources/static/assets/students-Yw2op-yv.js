import{a as A}from"./axios-G2rPRu76.js";import{_ as B,Q as C,r as c,R as D,c as d,n as r,m as i,o as u,u as e,F as x,a4 as y,t as F,a as N,a2 as $,b as T,Z as I}from"./index-romlxh2l.js";import{V as g,a as V}from"./VRow-hVaYJ55S.js";import{V as f}from"./VSelect-4UNGe8PE.js";import{V as O}from"./VTextField-bp9PzvYN.js";import{V as R}from"./VDataTable-JJek5IK_.js";/* empty css              */import"./form-_QGCC3D4.js";import"./forwardRefs-y8pOSn8h.js";import"./VMenu-4p3r5vtj.js";import"./index-ljTxfukq.js";import"./ssrBoot-yRKFFFql.js";import"./VImg-sw7GzouM.js";import"./VAvatar-1wPPUIPn.js";import"./VDivider-OdOMkUQf.js";import"./VOverlay-rrnKEEX7.js";import"./easing-Apq16fr0.js";import"./lazy-d4sMYynm.js";import"./dialog-transition-K9MCZFuZ.js";import"./VCheckboxBtn-hIAm7C42.js";import"./VLabel-xfaH5ioj.js";import"./VChip-4Nhz5OdA.js";import"./VField-jGGqTOnS.js";import"./VTable-JPVna1AD.js";const U=["onDblclick"],j={__name:"students",setup(z){const h=C(),n=c({data:[],headers:[],search:""});let _=window.location.protocol+"//"+window.location.hostname+":8080";A.get(_+"/api/v1/student/allStudents",{headers:{"Content-Type":"application/json",Authorization:D.get("Authorization")}}).then(l=>{console.log(l);let t=l.data;const a=["num","reserved","guardians","name","birthcertno"];n.value.headers=Object.keys(t[0]).filter(m=>!a.includes(m));for(var o=0;o<t.length;o++){const m=new Date(t[o].dateOfBirth),v=String(m.getDate()).padStart(2,"0"),w=String(m.getMonth()+1).padStart(2,"0"),b=m.getFullYear();t[o].dateOfBirth=`${v}-${w}-${b}`,console.log(t[o].dateOfBirth),a.forEach(k=>{delete t[o][k]})}n.value.data=t}).catch(l=>{console.log(l),(l.response&&l.response.status===401||l.response.status===403)&&window.open("/login","_blank")});let S="";const p=l=>{h.push(`/viewStudent?admNo=${l.admNo}`)},s=c({stage:"All",stream:"All"});return(l,t)=>(u(),d("div",null,[r(g,null,{default:i(()=>[r(V,null,{default:i(()=>[r(f,{label:"Select Stage (Form)",items:["All","1","2","3","4","Alumini"],modelValue:e(s).stage,"onUpdate:modelValue":t[0]||(t[0]=a=>e(s).stage=a)},null,8,["modelValue"])]),_:1}),r(V,null,{default:i(()=>[r(f,{label:"Select Stream ",items:["All","A","B","C"],modelValue:e(s).stream,"onUpdate:modelValue":t[1]||(t[1]=a=>e(s).stream=a)},null,8,["modelValue"])]),_:1})]),_:1}),r(g,null,{default:i(()=>[r(O,{modelValue:e(n).search,"onUpdate:modelValue":t[2]||(t[2]=a=>e(n).search=a),label:"Search",onInput:e(S)},null,8,["modelValue","onInput"]),r(R,{items:e(n).data,class:"elevation-1 custom-table",striped:"",search:e(n).search,"items-per-page":e(s).stage=="All"?10:e(n).data.length},{item:i(({item:a})=>[(e(s).stage=="All"||e(s).stage==a.stage)&&(e(s).stream=="All"||e(s).stream==a.stream)?(u(),d("tr",{key:0,onDblclick:o=>p(a)},[(u(!0),d(x,null,y(e(n).headers,o=>(u(),d("td",{key:o.value},F(a[o]),1))),128)),N("td",null,[r($,{onClick:o=>p(a)},{default:i(()=>[T("View")]),_:2},1032,["onClick"])])],40,U)):I("",!0)]),_:1},8,["items","search","items-per-page"])]),_:1})]))}},de=B(j,[["__scopeId","data-v-17a5948e"]]);export{de as default};
