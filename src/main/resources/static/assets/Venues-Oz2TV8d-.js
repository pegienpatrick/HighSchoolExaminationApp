import{Q as S,r as C,c as b,a as F,n as e,m as l,u as d,F as y,R as f,o as h,a2 as s,b as i,V as U,a4 as D,l as R,t as x,a3 as $}from"./index-2BP_lAh-.js";import{a as c}from"./axios-G2rPRu76.js";import{s as E}from"./sweetalert2.all-JES8pnGK.js";import{V as u,a}from"./VRow-xKr1Tf61.js";import{V as I}from"./VDialog-ZLwcZvHF.js";import{a as w,V as g,b as J,c as L}from"./VCard-LeQVuWP8.js";import{V as k}from"./VForm-N6boVIal.js";import{V as A}from"./VTextField-vshtD9Ps.js";import{V as p}from"./VSpacer-cUySo4_u.js";/* empty css              */import"./VOverlay-vCK72WMx.js";import"./easing-Apq16fr0.js";import"./lazy-CnP97q8J.js";import"./VImg-noq4ZFey.js";import"./forwardRefs-y8pOSn8h.js";import"./dialog-transition-zP723b51.js";import"./VAvatar-nprCTEVN.js";import"./form-v140H6Iy.js";import"./VField-2KSXPk5K.js";import"./index-QAR5VDvd.js";import"./VLabel-PkvqaiGN.js";import"./VInput-fOfT7lUm.js";const se={__name:"Venues",setup(O){S();let V=window.location.protocol+"//"+window.location.hostname+":8080";const t=C({show:!1}),v=C(null),T=()=>{console.log(t.value),t.value.show=!0,t.value.name="",t.value.capacity="",t.value.num=null},B=()=>{t.value.num==null?c.post(V+"/api/v1/venue/addVenue",t.value,{headers:{Authorization:f.get("Authorization")}}).then(o=>{console.log(o.data),t.value.show=!1,m()}).catch(o=>{alert(JSON.stringify(o.response.data))}):c.put(V+"/api/v1/venue/updateVenue",t.value,{headers:{Authorization:f.get("Authorization")}}).then(o=>{console.log(o.data),t.value.show=!1,m()}).catch(o=>{alert(JSON.stringify(o.response.data))})},m=()=>{c.get(V+"/api/v1/venue/listVenues",{headers:{Authorization:f.get("Authorization")}}).then(o=>{console.log(o.data),v.value=o.data})};m();const z=o=>{t.value=o,t.value.show=!0},N=o=>{E.fire({title:"Delete Venue "+o.name,text:"Are you sure you want to delete this Venue?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, delete it!"}).then(r=>{if(r.isConfirmed){const n=window.location.protocol+"//"+window.location.hostname+":8080";c.delete(n+`/api/v1/venue/deleteVenue/${o.num}`,{headers:{Authorization:f.get("Authorization")}}).then(_=>{console.log(_),m()})}})};return(o,r)=>(h(),b(y,null,[F("div",null,[e(u,null,{default:l(()=>[e(a,null,{default:l(()=>[e(w,null,{default:l(()=>[e(g,null,{default:l(()=>[e(u,null,{default:l(()=>[e(a,null,{default:l(()=>[e(s,{text:"TimeTable Home",to:"/teachingTimeTable"})]),_:1}),e(a,null,{default:l(()=>[e(s,{text:"TimeTable Settings",to:"/timetableSettings"})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(u,null,{default:l(()=>[e(a,null,{default:l(()=>[e(w,null,{default:l(()=>[e(J,null,{default:l(()=>[i(" Learning Venues "),e(u,null,{default:l(()=>[e(a,null,{default:l(()=>[e(s,{onClick:T},{default:l(()=>[e(U,{icon:"ri-add-line"}),i(" Add New Venue ")]),_:1})]),_:1})]),_:1})]),_:1}),e(g,null,{default:l(()=>[e(k,null,{default:l(()=>[e(u,{style:{"font-weight":"bold"}},{default:l(()=>[e(a,null,{default:l(()=>[i(" Venue Name ")]),_:1}),e(a,null,{default:l(()=>[i(" Venue Capacity ")]),_:1}),e(a,null,{default:l(()=>[i(" Edit ")]),_:1}),e(a,null,{default:l(()=>[i(" Delete ")]),_:1})]),_:1}),(h(!0),b(y,null,D(d(v),n=>(h(),R(u,{key:n.num},{default:l(()=>[e(a,null,{default:l(()=>[i(x(n.name),1)]),_:2},1024),e(a,null,{default:l(()=>[i(x(n.capacity),1)]),_:2},1024),e(a,null,{default:l(()=>[e(s,{icon:"ri-edit-line",onClick:_=>z(n)},null,8,["onClick"])]),_:2},1024),e(a,null,{default:l(()=>[e(s,{icon:"ri-eraser-line",color:"error",onClick:_=>N(n)},null,8,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),e(I,{modelValue:d(t).show,"onUpdate:modelValue":r[2]||(r[2]=n=>d(t).show=n),class:"modal fade small-modal",cols:"12","max-width":"600"},{default:l(()=>[e(u,null,{default:l(()=>[e(a,null,{default:l(()=>[e(w,{title:"Venue Information"},{default:l(()=>[e(g,null,{default:l(()=>[e(k,null,{default:l(()=>[e(u,null,{default:l(()=>[e(a,null,{default:l(()=>[e(A,{label:"Venue Name",modelValue:d(t).name,"onUpdate:modelValue":r[0]||(r[0]=n=>d(t).name=n)},null,8,["modelValue"])]),_:1})]),_:1}),e(p),e(p),e(u,null,{default:l(()=>[e(a,null,{default:l(()=>[e(A,{label:"Venue Capacity",modelValue:d(t).capacity,"onUpdate:modelValue":r[1]||(r[1]=n=>d(t).capacity=n),type:"number"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,null,{default:l(()=>[e(a,null,{default:l(()=>[e(p),e(p)]),_:1})]),_:1}),e(L,null,{default:l(()=>[e(u,null,{default:l(()=>[e(a,{color:"primary"},{default:l(()=>[e(s,{text:"Submit",type:"submit",onClick:$(B,["prevent"]),color:"white",class:"btn btn-primary w-100",style:{background:"blue",color:"white"}},{default:l(()=>[i(" Submit ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};export{se as default};
