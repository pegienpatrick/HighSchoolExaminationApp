import{a as v}from"./axios-G2rPRu76.js";import{Q as I,r as S,R as C,c as M,n as e,m as t,o as T,a2 as c,u as a,V as z,b as d,t as g,a as r}from"./index-K_k6ND3E.js";import{V as s,a as l}from"./VRow-T7aeklux.js";import{V as E}from"./VLabel-X9XlDOqr.js";import{a as V,b as R,V as x}from"./VCard-ErPIkXyl.js";import{V as B}from"./VForm-HpRu4jcl.js";import{V as N}from"./VTextarea-M_CzdGsj.js";import{V as U}from"./VTextField-Q68vMtJf.js";import{V as F}from"./VSelect-sHJJEBMQ.js";/* empty css              */import"./VAvatar-Dku5dScd.js";import"./VImg-SduuTbD5.js";import"./form-48_n9LpB.js";import"./forwardRefs-y8pOSn8h.js";import"./VField-8R3V7oUj.js";import"./index-FnY5H3OG.js";import"./easing-Apq16fr0.js";import"./VMenu-N-tMqL6p.js";import"./ssrBoot-991Ib9jD.js";import"./VDivider-v32a3-l-.js";import"./VOverlay-yVyA-wR8.js";import"./lazy-Dw6gpYKp.js";import"./dialog-transition--KEG0tcQ.js";import"./VCheckboxBtn-ZEmq0s3c.js";import"./VChip-VzXX7EJp.js";const O=r("p",null,[r("strong",null,"Title :")],-1),q=r("p",null,[r("strong",null,"Year:")],-1),H=r("p",null,[r("strong",null,"Term : ")],-1),D=r("p",null,[r("strong",null,"Created On : ")],-1),G=r("p",null,[r("strong",null,"Form : ")],-1),ge={__name:"examReports",setup(L){const m=I();let h=window.location.protocol+"//"+window.location.hostname+":8080",p=m.currentRoute.value.query.examinationId,_=m.currentRoute.value.query.stage;const o=S({year:2024,term:"",title:"",success:!0}),i=S({selectedStream:"All",selectedAdm:""});v.get(h+`/api/v1/examination/viewExamination/${p}`,{headers:{Authorization:C.get("Authorization")}}).then(n=>{o.value=n.data});const A=()=>{m.push(`/studentReportCard?examinationId=${p}&admNo=${i.value.selectedAdm}`)},w=()=>{m.push(`/studentReportCards?examinationId=${p}&stage=${_}&stream=${i.value.selectedStream}`)},$=()=>{v.get(h+`/api/v1/reportCard/smsReportCard/${p}/${i.value.selectedAdm}`,{headers:{Authorization:C.get("Authorization")}}).then(n=>{console.log(n),alert(n.data),m.push("/smsStats")}).catch(n=>{console.log(n),alert("error sending:"+n.response.data)})},y=()=>{const n=h+`/api/v1/reportCard/smsReportCards/${p}/${_}?stream=${i.value.selectedStream}`;v.get(n,{headers:{Authorization:C.get("Authorization")}}).then(u=>{console.log(u),alert(u.data),m.push("/smsStats")}).catch(u=>{console.log(u),alert("error sending:"+u.response.data)})},k=()=>{o.value.examinationId=o.value.num,v.put(h+"/api/v1/examination/updateReportCardMessage",o.value,{headers:{Authorization:C.get("Authorization")}}).then(n=>{o.value.success=!0,window.setTimeout(()=>{o.value.success=!1},2500)})},b=()=>{m.push(`/viewAnalysis?examinationId=${p}&stage=${_}&stream=All`)};return(n,u)=>(T(),M("div",null,[e(s,null,{default:t(()=>[e(l,null,{default:t(()=>[e(c,{to:`/viewExam?examinationId=${a(p)}&stage=${a(_)}`,text:"Exam Home"},{default:t(()=>[e(z,{icon:"ri-home-line"}),e(E),d(" Exam Home ")]),_:1},8,["to"])]),_:1})]),_:1}),e(s,null,{default:t(()=>[e(l,null,{default:t(()=>[e(V,null,{default:t(()=>[e(R,null,{default:t(()=>[d(" Exam Reports ")]),_:1}),e(x,null,{default:t(()=>[e(B,null,{default:t(()=>[e(s,null,{default:t(()=>[e(l,null,{default:t(()=>[O,d(" "+g(a(o).title),1)]),_:1})]),_:1}),e(s,null,{default:t(()=>[e(l,{md:"6",cols:"12"},{default:t(()=>[q,d(" "+g(a(o).year),1)]),_:1}),e(l,{md:"6",cols:"12"},{default:t(()=>[H,d(g(a(o).term),1)]),_:1}),e(l,{md:"6",cols:"12"},{default:t(()=>[D,d(g(a(o).date),1)]),_:1}),e(l,{md:"6",cols:"12"},{default:t(()=>[G,d(g(a(_)),1)]),_:1})]),_:1}),e(s,null,{default:t(()=>[e(l)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(s,null,{default:t(()=>[e(l,null,{default:t(()=>[e(V,{title:"Informative ReportCard Message"},{default:t(()=>[e(x,null,{default:t(()=>[e(s,null,{default:t(()=>[e(l,null,{default:t(()=>[e(N,{label:"ReportCard Message",placeholder:"Type your message which will be shown on all report Cards at the bottom.",counter:"",lines:"",modelValue:a(o).reportCardMsg,"onUpdate:modelValue":u[0]||(u[0]=f=>a(o).reportCardMsg=f)},null,8,["modelValue"])]),_:1})]),_:1}),e(s,null,{default:t(()=>[e(l,null,{default:t(()=>[e(c,{text:a(o).success?"Saved Successfully":"Save ReportCard Message",color:a(o).success?"success":"primary",onClick:k},null,8,["text","color"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(s,null,{default:t(()=>[e(l,null,{default:t(()=>[e(V,null,{default:t(()=>[e(R,null,{default:t(()=>[d(" Student Reports ")]),_:1}),e(x,null,{default:t(()=>[e(s,null,{default:t(()=>[e(l,null,{default:t(()=>[e(U,{label:"Enter Student Admission Number",modelValue:a(i).selectedAdm,"onUpdate:modelValue":u[1]||(u[1]=f=>a(i).selectedAdm=f)},null,8,["modelValue"])]),_:1}),e(l,null,{default:t(()=>[e(c,{text:"Open Student Report",onClick:A})]),_:1}),e(l,null,{default:t(()=>[e(c,{text:"Send Report SMS",onClick:$,color:"success"})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(s,null,{default:t(()=>[e(l,null,{default:t(()=>[e(V,null,{default:t(()=>[e(R,null,{default:t(()=>[d(" Bulk Reports ")]),_:1}),e(x,null,{default:t(()=>[e(s,null,{default:t(()=>[e(l,null,{default:t(()=>[e(F,{label:"Select Stream ",items:["All","A","B","C"],modelValue:a(i).selectedStream,"onUpdate:modelValue":u[2]||(u[2]=f=>a(i).selectedStream=f)},null,8,["modelValue"])]),_:1}),e(l,null,{default:t(()=>[e(c,{text:"Fetch Students Reports",onClick:u[3]||(u[3]=f=>w())})]),_:1}),e(l,null,{default:t(()=>[e(c,{text:"Send Student Reports SMS",onClick:y,color:"success"})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(s,null,{default:t(()=>[e(l,null,{default:t(()=>[e(V,{title:"General Reports"},{default:t(()=>[e(x,null,{default:t(()=>[e(s,null,{default:t(()=>[e(l,null,{default:t(()=>[e(c,{text:"view Overall Results Analysis",onClick:b})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]))}};export{ge as default};
