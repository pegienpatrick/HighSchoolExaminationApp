import{a as m}from"./axios-G2rPRu76.js";import{Q as R,r as v,ac as k,c as z,n as e,m as t,R as p,o as A,a2 as h,u as i,i as V,a as b}from"./index-2f9Hlv8R.js";import{V as r,a as d}from"./VRow-301CAlQE.js";import{a as U,V as g}from"./VCard-GztQpVHa.js";import{V as f}from"./VSpacer-eqFXvyms.js";import{V as B,b as T,a as E,c as w}from"./VWindowItem-2l3a0Pjv.js";/* empty css              */import"./VAvatar-RxVTU4x3.js";import"./VImg-K_L1p50j.js";import"./easing-Apq16fr0.js";import"./index-XqTsq3Jg.js";import"./lazy-15oThlyZ.js";import"./ssrBoot-aTzPBJTS.js";const L=["src","title"],P=["src","title"],j=["src","title"],X={__name:"TeachingTimeTable",setup(D){R();const s=v("class"),o=v({data1:"",title1:"",data2:"",title2:"",data3:"",title3:""}),_=()=>{const n=window.location.protocol+"//"+window.location.hostname+":8080"+"/api/v1/timetable/classTimeTable";m.get(n,{responseType:"blob",headers:{Authorization:p.get("Authorization")}}).then(l=>{const u=new Blob([l.data],{type:"application/pdf"}),a=document.createElement("a");a.href=URL.createObjectURL(u),a.download=" Class Time Table.pdf",document.body.appendChild(a),document.body.removeChild(a),o.value.data1=a.href,o.value.title1=a.download,C()}).catch(l=>{console.error("Error fetching PDF:",l)})},C=()=>{const n=window.location.protocol+"//"+window.location.hostname+":8080"+"/api/v1/timetable/teachersTimeTable";m.get(n,{responseType:"blob",headers:{Authorization:p.get("Authorization")}}).then(l=>{const u=new Blob([l.data],{type:"application/pdf"}),a=document.createElement("a");a.href=URL.createObjectURL(u),a.download=" Teachers Time Table.pdf",document.body.appendChild(a),document.body.removeChild(a),o.value.data2=a.href,o.value.title2=a.download,y()}).catch(l=>{console.error("Error fetching PDF:",l)})},y=()=>{const n=window.location.protocol+"//"+window.location.hostname+":8080"+"/api/v1/timetable/venuesTimeTable";m.get(n,{responseType:"blob",headers:{Authorization:p.get("Authorization")}}).then(l=>{const u=new Blob([l.data],{type:"application/pdf"}),a=document.createElement("a");a.href=URL.createObjectURL(u),a.download=" Venues Time Table.pdf",document.body.appendChild(a),document.body.removeChild(a),o.value.data3=a.href,o.value.title3=a.download}).catch(l=>{console.error("Error fetching PDF:",l)})};k(()=>{_()});const x=()=>{const n=window.location.protocol+"//"+window.location.hostname+":8080"+"/api/v1/timetable/regenerate";m.get(n,{headers:{Authorization:p.get("Authorization")}}).then(l=>{console.log(l),_()})};return(c,n)=>(A(),z("div",null,[e(r,null,{default:t(()=>[e(d,null,{default:t(()=>[e(U,null,{default:t(()=>[e(g,null,{default:t(()=>[e(r,null,{default:t(()=>[e(d,null,{default:t(()=>[e(h,{text:"TimeTable Settings"})]),_:1}),e(d,null,{default:t(()=>[e(h,{text:"Lessons Per Week"})]),_:1}),e(d,null,{default:t(()=>[e(h,{onClick:x,text:"Generate New TimeTable"})]),_:1})]),_:1}),e(r,null,{default:t(()=>[e(f)]),_:1}),e(r,null,{default:t(()=>[e(f)]),_:1}),e(r,null,{default:t(()=>[e(d,null,{default:t(()=>[e(B,{modelValue:i(s),"onUpdate:modelValue":n[0]||(n[0]=l=>V(s)?s.value=l:null),"show-arrows":""},{default:t(()=>[e(T,{text:"Classes TimeTable",value:"class"}),e(T,{text:"Teachers TimeTable",value:"teacher"}),e(T,{text:"Venues TimeTable",value:"venue"})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(r,null,{default:t(()=>[e(f)]),_:1}),e(r,null,{default:t(()=>[e(f)]),_:1}),e(r,null,{default:t(()=>[e(d,null,{default:t(()=>[e(U,null,{default:t(()=>[e(g,null,{default:t(()=>[e(r,null,{default:t(()=>[e(d,null,{default:t(()=>[e(E,{modelValue:i(s),"onUpdate:modelValue":n[1]||(n[1]=l=>V(s)?s.value=l:null),class:"mt-5 disable-tab-transition",touch:!1},{default:t(()=>[e(w,{value:"class"},{default:t(()=>[b("iframe",{src:i(o).data1,width:"100%",height:"1000",frameborder:"0",title:i(o).title1},null,8,L)]),_:1}),e(w,{value:"teacher"},{default:t(()=>[b("iframe",{src:i(o).data2,width:"100%",height:"1000",frameborder:"0",title:i(o).title2},null,8,P)]),_:1}),e(w,{value:"venue"},{default:t(()=>[b("iframe",{src:i(o).data3,width:"100%",height:"1000",frameborder:"0",title:i(o).title3},null,8,j)]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]))}};export{X as default};
