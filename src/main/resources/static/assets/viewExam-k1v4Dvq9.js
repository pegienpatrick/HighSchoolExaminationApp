import{X as R,r as $,c as x,u as a,b as t,w as e,F as k,a4 as U,Z as D,Y as w,o as p,a2 as d,V,B as m,t as _,e as L,a as i,a3 as M}from"./index-SGO5OOPy.js";import{a as h}from"./axios-G2rPRu76.js";import{s as N}from"./sweetalert2.all-LOn_dB4H.js";import{V as u,a as l}from"./VRow-SKQ4CCOT.js";import{V as S}from"./VDialog-qZy5oQNk.js";import{V as g}from"./VField-JCquXGl7.js";import{a as E,b as B,V as v,c as Y}from"./VCard-iwGy2QZm.js";import{V as A}from"./VForm-7zjsCCKO.js";import{V as q}from"./VTextField-zjRFJMH_.js";import{V as b}from"./VSpacer-3TZEwnwN.js";/* empty css              */import"./VOverlay-sta7PfT3.js";import"./easing-Apq16fr0.js";import"./lazy-Dwtquv-K.js";import"./VImg-nJ6DsKWr.js";import"./forwardRefs-y8pOSn8h.js";import"./dialog-transition-H9M13_Jl.js";import"./index-vWDdzW97.js";import"./form-syYsj1LP.js";import"./VAvatar-aQ_KeIL1.js";const G={key:0},O=i("p",null,[i("strong",null,"Title :")],-1),X=i("p",null,[i("strong",null,"Year:")],-1),Z=i("p",null,[i("strong",null,"Term : ")],-1),j=i("p",null,[i("strong",null,"Created On : ")],-1),pt={__name:"viewExam",setup(H){const C=R();let T=window.location.protocol+"//"+window.location.hostname+":8080",f=C.currentRoute.value.query.examinationId;const n=$({year:2024,term:"",title:""}),y=()=>{h.get(T+`/api/v1/examination/viewExamination/${f}`,{headers:{Authorization:w.get("Authorization")}}).then(s=>{n.value=s.data})};y();const z=()=>{N.fire({title:"Delete Exam",text:"Are you sure you want to delete this Exam?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, delete it!"}).then(s=>{if(s.isConfirmed){const c=window.location.protocol+"//"+window.location.hostname+":8080";h.delete(c+`/api/v1/examination/delete/${f}`,{headers:{Authorization:w.get("Authorization")}}).then(o=>{console.log(o),C.go(-1)})}})},r=$({show:!1,num:"",title:""}),F=()=>{r.value.show=!0,r.value.num=n.value.num,r.value.title=n.value.title},I=()=>{h.put(T+"/api/v1/examination/updateExamTitle",r.value,{headers:{Authorization:w.get("Authorization")}}).then(s=>{console.log(s),r.value.show=!1,y()}).catch(s=>{console.log(s.respose)})};return(s,c)=>(p(),x(k,null,[a(n).deleted==!1?(p(),x("div",G,[t(u,null,{default:e(()=>[t(l,null,{default:e(()=>[t(d,{to:`/viewExaminations?year=${a(n).year}&term=${a(n).term}`,text:"Current Term"},{default:e(()=>[t(V,{icon:"ri-table-line"}),t(g),m(" view Current Term ")]),_:1},8,["to"])]),_:1})]),_:1}),t(u,null,{default:e(()=>[t(l,null,{default:e(()=>[t(E,null,{default:e(()=>[t(B,null,{default:e(()=>[m(" Exarm Information ")]),_:1}),t(v,null,{default:e(()=>[t(A,null,{default:e(()=>[t(u,null,{default:e(()=>[t(l,null,{default:e(()=>[O,m(" "+_(a(n).title),1)]),_:1})]),_:1}),t(u,null,{default:e(()=>[t(l,{md:"6",cols:"12"},{default:e(()=>[X,m(" "+_(a(n).year),1)]),_:1}),t(l,{md:"6",cols:"12"},{default:e(()=>[Z,m(_(a(n).term),1)]),_:1}),t(l,{md:"6",cols:"12"},{default:e(()=>[j,m(_(a(n).date),1)]),_:1})]),_:1}),t(u,null,{default:e(()=>[t(l,null,{default:e(()=>[t(d,{text:"Delete Exam",color:"warning",onClick:z},{default:e(()=>[t(V,{icon:"ri-eraser-line"}),t(g,{text:"Delete Exam"})]),_:1})]),_:1}),t(l),t(l,null,{default:e(()=>[t(d,{text:"Edit Title",color:"secondary",onClick:F},{default:e(()=>[t(V,{icon:"ri-edit-line"}),t(g,{text:"Edit Title"})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),(p(!0),x(k,null,U(a(n).grade,o=>(p(),L(u,{key:o},{default:e(()=>[t(l,null,{default:e(()=>[t(E,null,{default:e(()=>[t(B,null,{default:e(()=>[i("p",null,[i("strong",null,"Form "+_(o),1)])]),_:2},1024),t(v,null,{default:e(()=>[t(u,null,{default:e(()=>[t(l,null,{default:e(()=>[t(d,{to:`/marksSheet?exam=${a(f)}&stage=${o}`,text:"Marks Entry"},null,8,["to"])]),_:2},1024),t(l,null,{default:e(()=>[t(d,{text:"View Merit List",to:`/viewMeritList?exam=${a(f)}&stage=${o}`},null,8,["to"])]),_:2},1024),t(l,null,{default:e(()=>[t(d,{to:`/generateMeritList?exam=${a(f)}&stage=${o}`,text:"Generate Exam Results"},null,8,["to"])]),_:2},1024),t(l,null,{default:e(()=>[t(d,{text:"Reports",to:`/viewExamReports?examinationId=${a(f)}&stage=${o}`},null,8,["to"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))])):D("",!0),t(S,{modelValue:a(r).show,"onUpdate:modelValue":c[1]||(c[1]=o=>a(r).show=o),class:"modal fade small-modal",cols:"12","max-width":"600"},{default:e(()=>[t(u,null,{default:e(()=>[t(l,null,{default:e(()=>[t(E,{title:"Edit Exam Title"},{default:e(()=>[t(v,null,{default:e(()=>[t(A,null,{default:e(()=>[t(u,null,{default:e(()=>[t(l,null,{default:e(()=>[t(q,{label:"New Exam Title",modelValue:a(r).title,"onUpdate:modelValue":c[0]||(c[0]=o=>a(r).title=o)},null,8,["modelValue"])]),_:1})]),_:1}),t(b),t(b),t(Y,null,{default:e(()=>[t(u,null,{default:e(()=>[t(l,null,{default:e(()=>[t(d,{text:"Update Title",type:"submit",color:"primary",onClick:M(I,["prevent"])},{default:e(()=>[m(" Update Title ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};export{pt as default};
