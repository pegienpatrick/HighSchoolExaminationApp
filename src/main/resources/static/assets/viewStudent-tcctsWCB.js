import{a as g}from"./axios-G2rPRu76.js";import{D as w,E as N,J as V,L as k,a5 as y,R as B,b as e,_ as b,Y as D,e as m,w as t,a6 as x,o as f,B as o,c as A,a as l,t as u,a2 as h,V as v,Z as p}from"./index-3uUFeXcg.js";import{s as F}from"./sweetalert2.all-XPaA_-Sh.js";import{V as r,a as s}from"./VRow-UU1fccdi.js";import{a as S,b as E,V as C}from"./VCard-Vn7XZj6Z.js";import{V as R}from"./VAlert-FZnD_Xnp.js";/* empty css              */import"./VAvatar-3Z7fVEfd.js";import"./VImg-bms_ykK-.js";const T=w({fluid:{type:Boolean,default:!1},...N(),...V()},"VContainer"),z=k()({name:"VContainer",props:T(),setup(d,a){let{slots:i}=a;const{rtlClasses:c}=y();return B(()=>e(d.tag,{class:["v-container",{"v-container--fluid":d.fluid},c.value,d.class],style:d.style},i)),{}}}),M={data(){return{studentDetails:{},admNo:""}},mounted(){this.fetchStudentDetails(),console.log("mounted"),this.fetchStudentDetails()},methods:{fetchStudentDetails(){const d=window.location.protocol+"//"+window.location.hostname+":8080";this.admNo=this.$route.query.admNo,g.get(d+`/api/v1/student/viewStudent/${this.admNo}`,{headers:{Authorization:D.get("Authorization")}}).then(a=>{console.log(a),this.studentDetails=a.data.body,console.log(this.studentDetails);const i=new Date(this.studentDetails.dateOfBirth),c=String(i.getDate()).padStart(2,"0"),n=String(i.getMonth()+1).padStart(2,"0"),_=i.getFullYear();this.studentDetails.dateOfBirth=`${c}-${n}-${_}`}).catch(a=>{console.error("Error fetching student details:",a),console.log(a),a.response&&(a.response.status===401||a.response.status===403)&&window.open("/login","_blank")})},editStudent(){this.$router.push(`/editStudent?admNo=${this.studentDetails.admNo}`)},deleteStudent(){F.fire({title:"Delete Student",text:"Are you sure you want to delete this student?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, delete it!"}).then(d=>{if(d.isConfirmed){const a=window.location.protocol+"//"+window.location.hostname+":8080";g.get(a+`/api/v1/student/deleteStudent/${this.admNo}`,{headers:{Authorization:D.get("Authorization")}}).then(i=>{console.log(i),this.$router.push("/students")})}})}}},O={key:0},P=l("strong",null,"Admission Number:",-1),I=l("strong",null,"Admission Number:",-1),Y=l("strong",null,"Surname:",-1),U=l("strong",null,"First Name:",-1),j=l("strong",null,"Other Name:",-1),q=l("strong",null,"Date of Birth:",-1),G=l("strong",null,"Gender:",-1),J=l("strong",null,"Birth Certificate Number:",-1),K=l("strong",null,"nemis Number:",-1),L=l("strong",null,"Stage (Form):",-1),Z=l("strong",null,"Stream:",-1),H=l("strong",null,"KCPE Marks:",-1),Q=l("strong",null,"Cohort:",-1);function W(d,a,i,c,n,_){return f(),m(x,null,{default:t(()=>[e(z,null,{default:t(()=>[e(r,null,{default:t(()=>[e(s,{cols:"12"},{default:t(()=>[e(S,{elevation:"3"},{default:t(()=>[e(E,{class:"text-h6 font-weight-bold"},{default:t(()=>[o("Student Details")]),_:1}),e(C,null,{default:t(()=>[e(s,{cols:"12"},{default:t(()=>[e(S,{title:"Student Details"},{default:t(()=>[e(C,{class:"d-flex"},{default:t(()=>[n.studentDetails==null?(f(),A("div",O,[e(r,{class:"w-100 d-block"},{default:t(()=>[e(s,null,{default:t(()=>[e(s,null,{default:t(()=>[l("p",null,[P,o(" "+u(this.admNo),1)])]),_:1})]),_:1})]),_:1}),e(r,{class:"w-100 d-block"},{default:t(()=>[e(s,null,{default:t(()=>[e(R,null,{default:t(()=>[o(" Record Not Found ")]),_:1})]),_:1})]),_:1}),e(r,null,{default:t(()=>[e(s,null,{default:t(()=>[e(h,{to:"/searchStudent"},{default:t(()=>[e(v,{icon:"ri-restart-line"}),o(" Search Again ")]),_:1})]),_:1})]),_:1})])):p("",!0),n.studentDetails!=null?(f(),m(r,{key:1},{default:t(()=>[e(s,{md:"6",cols:"12"},{default:t(()=>[l("p",null,[I,o(" "+u(n.studentDetails.admNo),1)])]),_:1}),e(s,{md:"6",cols:"12"},{default:t(()=>[l("p",null,[Y,o(" "+u(n.studentDetails.surname),1)])]),_:1}),e(s,{md:"6",cols:"12"},{default:t(()=>[l("p",null,[U,o(" "+u(n.studentDetails.firstName),1)])]),_:1}),e(s,{md:"6",cols:"12"},{default:t(()=>[l("p",null,[j,o(" "+u(n.studentDetails.otherName),1)])]),_:1}),e(s,{md:"6",cols:"12"},{default:t(()=>[l("p",null,[q,o(" "+u(n.studentDetails.dateOfBirth),1)])]),_:1}),e(s,{md:"6",cols:"12"},{default:t(()=>[l("p",null,[G,o(" "+u(n.studentDetails.gender),1)])]),_:1}),e(s,{md:"6",cols:"12"},{default:t(()=>[l("p",null,[J,o(" "+u(n.studentDetails.birthCertno),1)])]),_:1}),e(s,{md:"6",cols:"12"},{default:t(()=>[l("p",null,[K,o(" "+u(n.studentDetails.nemisNo),1)])]),_:1}),e(s,{md:"6",cols:"12"},{default:t(()=>[l("p",null,[L,o(" "+u(n.studentDetails.stage),1)])]),_:1}),e(s,{md:"6",cols:"12"},{default:t(()=>[l("p",null,[Z,o(" "+u(n.studentDetails.stream),1)])]),_:1}),e(s,{md:"6",cols:"12"},{default:t(()=>[l("p",null,[H,o(" "+u(n.studentDetails.kcpeMarks),1)])]),_:1}),e(s,{md:"6",cols:"12"},{default:t(()=>[l("p",null,[Q,o(" "+u(n.studentDetails.cohort),1)])]),_:1})]),_:1})):p("",!0)]),_:1})]),_:1})]),_:1}),n.studentDetails!=null?(f(),m(r,{key:0,justify:"center"},{default:t(()=>[e(s,null,{default:t(()=>[e(h,{onClick:_.editStudent,color:"primary"},{default:t(()=>[o("Edit Student")]),_:1},8,["onClick"])]),_:1}),e(s),e(s,null,{default:t(()=>[e(h,{onClick:_.deleteStudent,color:"warning"},{default:t(()=>[o("Delete Student")]),_:1},8,["onClick"])]),_:1})]),_:1})):p("",!0)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}const ut=b(M,[["render",W]]);export{ut as default};
