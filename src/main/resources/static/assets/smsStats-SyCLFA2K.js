import{a as n}from"./axios-G2rPRu76.js";import{r as g,Q as p,c as _,n as a,m as e,R as s,o as S,b as i,a as c,t as d,u,a2 as v}from"./index-X88cYckp.js";import{a as V,b as w,V as y,d as C}from"./VCard-2lCtGSh5.js";import{V as r,a as h}from"./VRow--DH0OlrG.js";import"./VAvatar-xNVLu_zy.js";import"./VImg-3Fu6JOgo.js";/* empty css              */const M={__name:"smsStats",setup(z){const l=g({data:"",sent:"",failed:""});p();let o=window.location.protocol+"//"+window.location.hostname+":8080";g({year:2024,term:"",title:""});const m=()=>{n.get(o+"/api/v1/sms/balance",{headers:{Authorization:s.get("Authorization")}}).then(t=>{console.log(t),l.value.data=t.data}).catch(t=>{console.log(t),l.value.data="Unable to Fetch(check internet)"}),n.get(o+"/api/v1/sms/countFailed",{headers:{Authorization:s.get("Authorization")}}).then(t=>{console.log(t),l.value.failed=t.data}).catch(t=>{console.log(t),l.value.failed="Unable to Fetch(check internet)"}),n.get(o+"/api/v1/sms/countSentToday",{headers:{Authorization:s.get("Authorization")}}).then(t=>{console.log(t),l.value.sent=t.data}).catch(t=>{console.log(t),l.value.sent="Unable to Fetch(check internet)"})};m(),window.setInterval(m,2e4);const f=()=>{n.get(o+"/api/v1/sms/retryFailed",{headers:{Authorization:s.get("Authorization")}}).then(t=>{console.log(t),alert(JSON.stringify(t.data))}).catch(t=>{console.log(t),alert(JSON.stringify(t.response.data))})};return(t,A)=>(S(),_("div",null,[a(V,null,{default:e(()=>[a(w,null,{default:e(()=>[i(" SMS Balance ")]),_:1}),a(y,null,{default:e(()=>[a(r,null,{default:e(()=>[a(h,null,{default:e(()=>[i(" Remaining SMS Credits : "),c("strong",null,d(u(l).data),1)]),_:1})]),_:1}),a(r),a(r,null,{default:e(()=>[a(h,null,{default:e(()=>[i(" SMS Sent Today : "),c("strong",null,d(u(l).sent),1)]),_:1})]),_:1}),a(r,null,{default:e(()=>[a(h,null,{default:e(()=>[i(" Total SMS Failed:"),c("strong",null,d(u(l).failed),1)]),_:1})]),_:1})]),_:1}),a(C,{class:"w-100"},{default:e(()=>[a(v,{class:"m-auto",text:"retry Failed Sms","prepend-icon":"ri-restart-line","align-center":"",color:"warning",onClick:f})]),_:1})]),_:1})]))}};export{M as default};
