import{a as N}from"./axios-G2rPRu76.js";import{D as S,E as V,J as C,L as k,a5 as w,R as y,b as e,_ as b,Y as B,e as m,w as t,a6 as x,o as _,B as o,c as v,a as s,t as a,a2 as p,V as A,Z as h}from"./index-o3g7j-pu.js";import{V as r,a as l}from"./VRow-6qMY-zIc.js";import{a as g,b as F,V as D}from"./VCard-Pw8zZ9F3.js";import{V as E}from"./VAlert-wiIZc_Io.js";/* empty css              */import"./VAvatar-rbGeQzgj.js";import"./VImg-FqV0TNDi.js";const R=S({fluid:{type:Boolean,default:!1},...V(),...C()},"VContainer"),M=k()({name:"VContainer",props:R(),setup(d,u){let{slots:i}=u;const{rtlClasses:c}=w();return y(()=>e(d.tag,{class:["v-container",{"v-container--fluid":d.fluid},c.value,d.class],style:d.style},i)),{}}}),O={data(){return{studentDetails:{},admNo:""}},mounted(){this.fetchStudentDetails(),console.log("mounted"),this.fetchStudentDetails()},methods:{fetchStudentDetails(){const d=window.location.protocol+"//"+window.location.hostname+":8080";this.admNo=this.$route.query.admNo,N.get(d+`/api/v1/student/viewStudent/${this.admNo}`,{headers:{Authorization:B.get("Authorization")}}).then(u=>{console.log(u),this.studentDetails=u.data.body,console.log(this.studentDetails);const i=new Date(this.studentDetails.dateOfBirth),c=String(i.getDate()).padStart(2,"0"),n=String(i.getMonth()+1).padStart(2,"0"),f=i.getFullYear();this.studentDetails.dateOfBirth=`${c}-${n}-${f}`}).catch(u=>{console.error("Error fetching student details:",u),console.log(u),u.response&&(u.response.status===401||u.response.status===403)&&window.open("/login","_blank")})},editStudent(){this.$router.push(`/editStudent?admNo=${this.studentDetails.admNo}`)}}},P={key:0},T=s("strong",null,"Admission Number:",-1),I=s("strong",null,"Admission Number:",-1),z=s("strong",null,"Surname:",-1),Y=s("strong",null,"First Name:",-1),j=s("strong",null,"Other Name:",-1),q=s("strong",null,"Date of Birth:",-1),G=s("strong",null,"Gender:",-1),J=s("strong",null,"Birth Certificate Number:",-1),K=s("strong",null,"IFMIS Number:",-1),L=s("strong",null,"Stage (Form):",-1),U=s("strong",null,"Stream:",-1),Z=s("strong",null,"KCPE Marks:",-1),H=s("strong",null,"Cohort:",-1);function Q(d,u,i,c,n,f){return _(),m(x,null,{default:t(()=>[e(M,null,{default:t(()=>[e(r,null,{default:t(()=>[e(l,{cols:"12"},{default:t(()=>[e(g,{elevation:"3"},{default:t(()=>[e(F,{class:"text-h6 font-weight-bold"},{default:t(()=>[o("Student Details")]),_:1}),e(D,null,{default:t(()=>[e(l,{cols:"12"},{default:t(()=>[e(g,{title:"Student Details"},{default:t(()=>[e(D,{class:"d-flex"},{default:t(()=>[n.studentDetails==null?(_(),v("div",P,[e(r,{class:"w-100 d-block"},{default:t(()=>[e(l,null,{default:t(()=>[e(l,null,{default:t(()=>[s("p",null,[T,o(" "+a(this.admNo),1)])]),_:1})]),_:1})]),_:1}),e(r,{class:"w-100 d-block"},{default:t(()=>[e(l,null,{default:t(()=>[e(E,null,{default:t(()=>[o(" Record Not Found ")]),_:1})]),_:1})]),_:1}),e(r,null,{default:t(()=>[e(l,null,{default:t(()=>[e(p,{to:"/searchStudent"},{default:t(()=>[e(A,{icon:"ri-restart-line"}),o(" Search Again ")]),_:1})]),_:1})]),_:1})])):h("",!0),n.studentDetails!=null?(_(),m(r,{key:1},{default:t(()=>[e(l,{md:"6",cols:"12"},{default:t(()=>[s("p",null,[I,o(" "+a(n.studentDetails.admNo),1)])]),_:1}),e(l,{md:"6",cols:"12"},{default:t(()=>[s("p",null,[z,o(" "+a(n.studentDetails.surname),1)])]),_:1}),e(l,{md:"6",cols:"12"},{default:t(()=>[s("p",null,[Y,o(" "+a(n.studentDetails.firstName),1)])]),_:1}),e(l,{md:"6",cols:"12"},{default:t(()=>[s("p",null,[j,o(" "+a(n.studentDetails.otherName),1)])]),_:1}),e(l,{md:"6",cols:"12"},{default:t(()=>[s("p",null,[q,o(" "+a(n.studentDetails.dateOfBirth),1)])]),_:1}),e(l,{md:"6",cols:"12"},{default:t(()=>[s("p",null,[G,o(" "+a(n.studentDetails.gender),1)])]),_:1}),e(l,{md:"6",cols:"12"},{default:t(()=>[s("p",null,[J,o(" "+a(n.studentDetails.birthCertno),1)])]),_:1}),e(l,{md:"6",cols:"12"},{default:t(()=>[s("p",null,[K,o(" "+a(n.studentDetails.ifmisNo),1)])]),_:1}),e(l,{md:"6",cols:"12"},{default:t(()=>[s("p",null,[L,o(" "+a(n.studentDetails.stage),1)])]),_:1}),e(l,{md:"6",cols:"12"},{default:t(()=>[s("p",null,[U,o(" "+a(n.studentDetails.stream),1)])]),_:1}),e(l,{md:"6",cols:"12"},{default:t(()=>[s("p",null,[Z,o(" "+a(n.studentDetails.kcpeMarks),1)])]),_:1}),e(l,{md:"6",cols:"12"},{default:t(()=>[s("p",null,[H,o(" "+a(n.studentDetails.cohort),1)])]),_:1})]),_:1})):h("",!0)]),_:1})]),_:1})]),_:1}),n.studentDetails!=null?(_(),m(r,{key:0,justify:"center"},{default:t(()=>[e(l,null,{default:t(()=>[e(p,{onClick:f.editStudent,color:"primary"},{default:t(()=>[o("Edit Student")]),_:1},8,["onClick"])]),_:1})]),_:1})):h("",!0)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}const ot=b(O,[["render",Q]]);export{ot as default};
