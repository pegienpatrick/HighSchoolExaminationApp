import{a as C}from"./axios-G2rPRu76.js";import{X as y,r as v,Y as R,c as M,b as e,w as t,o as T,a2 as m,u as a,V as z,B as d,t as _,a as r}from"./index-SGO5OOPy.js";import{V as s,a as l}from"./VRow-SKQ4CCOT.js";import{V as I}from"./VField-JCquXGl7.js";import{a as V,b as S,V as g}from"./VCard-iwGy2QZm.js";import{V as B}from"./VForm-7zjsCCKO.js";import{V as E}from"./VTextarea-mRiiBkBh.js";import{V as N}from"./VTextField-zjRFJMH_.js";import{V as U}from"./VSelect-XRxo3SYo.js";/* empty css              */import"./index-vWDdzW97.js";import"./VImg-nJ6DsKWr.js";import"./form-syYsj1LP.js";import"./easing-Apq16fr0.js";import"./VAvatar-aQ_KeIL1.js";import"./forwardRefs-y8pOSn8h.js";import"./VMenu-Jk-FC-iD.js";import"./ssrBoot-dRiIKdbQ.js";import"./VDivider-J_lD5GQp.js";import"./VOverlay-sta7PfT3.js";import"./lazy-Dwtquv-K.js";import"./dialog-transition-H9M13_Jl.js";import"./VCheckboxBtn-N82T6j1u.js";import"./VChip-AExESlP7.js";const F=r("p",null,[r("strong",null,"Title :")],-1),O=r("p",null,[r("strong",null,"Year:")],-1),q=r("p",null,[r("strong",null,"Term : ")],-1),H=r("p",null,[r("strong",null,"Created On : ")],-1),Y=r("p",null,[r("strong",null,"Form : ")],-1),fe={__name:"examReports",setup(D){const p=y();let x=window.location.protocol+"//"+window.location.hostname+":8080",c=p.currentRoute.value.query.examinationId,h=p.currentRoute.value.query.stage;const o=v({year:2024,term:"",title:"",success:!0}),i=v({selectedStream:"All",selectedAdm:""});C.get(x+`/api/v1/examination/viewExamination/${c}`,{headers:{Authorization:R.get("Authorization")}}).then(n=>{o.value=n.data});const A=()=>{p.push(`/studentReportCard?examinationId=${c}&admNo=${i.value.selectedAdm}`)},w=()=>{p.push(`/studentReportCards?examinationId=${c}&stage=${h}&stream=${i.value.selectedStream}`)},$=()=>{C.get(x+`/api/v1/reportCard/smsReportCard/${c}/${i.value.selectedAdm}`,{headers:{Authorization:R.get("Authorization")}}).then(n=>{console.log(n),alert(n.data),p.push("/smsStats")}).catch(n=>{console.log(n),alert("error sending:"+n.response.data)})},b=()=>{const n=x+`/api/v1/reportCard/smsReportCards/${c}/${h}?stream=${i.value.selectedStream}`;C.get(n,{headers:{Authorization:R.get("Authorization")}}).then(u=>{console.log(u),alert(u.data),p.push("/smsStats")}).catch(u=>{console.log(u),alert("error sending:"+u.response.data)})},k=()=>{o.value.examinationId=o.value.num,C.put(x+"/api/v1/examination/updateReportCardMessage",o.value,{headers:{Authorization:R.get("Authorization")}}).then(n=>{o.value.success=!0,window.setTimeout(()=>{o.value.success=!1},2500)})};return(n,u)=>(T(),M("div",null,[e(s,null,{default:t(()=>[e(l,null,{default:t(()=>[e(m,{to:`/viewExam?examinationId=${a(c)}&stage=${a(h)}`,text:"Exam Home"},{default:t(()=>[e(z,{icon:"ri-home-line"}),e(I),d(" Exam Home ")]),_:1},8,["to"])]),_:1})]),_:1}),e(s,null,{default:t(()=>[e(l,null,{default:t(()=>[e(V,null,{default:t(()=>[e(S,null,{default:t(()=>[d(" Exam Reports ")]),_:1}),e(g,null,{default:t(()=>[e(B,null,{default:t(()=>[e(s,null,{default:t(()=>[e(l,null,{default:t(()=>[F,d(" "+_(a(o).title),1)]),_:1})]),_:1}),e(s,null,{default:t(()=>[e(l,{md:"6",cols:"12"},{default:t(()=>[O,d(" "+_(a(o).year),1)]),_:1}),e(l,{md:"6",cols:"12"},{default:t(()=>[q,d(_(a(o).term),1)]),_:1}),e(l,{md:"6",cols:"12"},{default:t(()=>[H,d(_(a(o).date),1)]),_:1}),e(l,{md:"6",cols:"12"},{default:t(()=>[Y,d(_(a(h)),1)]),_:1})]),_:1}),e(s,null,{default:t(()=>[e(l)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(s,null,{default:t(()=>[e(l,null,{default:t(()=>[e(V,{title:"Informative ReportCard Message"},{default:t(()=>[e(g,null,{default:t(()=>[e(s,null,{default:t(()=>[e(l,null,{default:t(()=>[e(E,{label:"ReportCard Message",placeholder:"Type your message which will be shown on all report Cards at the bottom.",counter:"",lines:"",modelValue:a(o).reportCardMsg,"onUpdate:modelValue":u[0]||(u[0]=f=>a(o).reportCardMsg=f)},null,8,["modelValue"])]),_:1})]),_:1}),e(s,null,{default:t(()=>[e(l,null,{default:t(()=>[e(m,{text:a(o).success?"Saved Successfully":"Save ReportCard Message",color:a(o).success?"success":"primary",onClick:k},null,8,["text","color"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(s,null,{default:t(()=>[e(l,null,{default:t(()=>[e(V,null,{default:t(()=>[e(S,null,{default:t(()=>[d(" Student Reports ")]),_:1}),e(g,null,{default:t(()=>[e(s,null,{default:t(()=>[e(l,null,{default:t(()=>[e(N,{label:"Enter Student Admission Number",modelValue:a(i).selectedAdm,"onUpdate:modelValue":u[1]||(u[1]=f=>a(i).selectedAdm=f)},null,8,["modelValue"])]),_:1}),e(l,null,{default:t(()=>[e(m,{text:"Open Student Report",onClick:A})]),_:1}),e(l,null,{default:t(()=>[e(m,{text:"Send Report SMS",onClick:$,color:"success"})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(s,null,{default:t(()=>[e(l,null,{default:t(()=>[e(V,null,{default:t(()=>[e(S,null,{default:t(()=>[d(" Bulk Reports ")]),_:1}),e(g,null,{default:t(()=>[e(s,null,{default:t(()=>[e(l,null,{default:t(()=>[e(U,{label:"Select Stream ",items:["All","A","B","C"],modelValue:a(i).selectedStream,"onUpdate:modelValue":u[2]||(u[2]=f=>a(i).selectedStream=f)},null,8,["modelValue"])]),_:1}),e(l,null,{default:t(()=>[e(m,{text:"Fetch Students Reports",onClick:u[3]||(u[3]=f=>w())})]),_:1}),e(l,null,{default:t(()=>[e(m,{text:"Send Student Reports SMS",onClick:b,color:"success"})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(s,null,{default:t(()=>[e(l,null,{default:t(()=>[e(V,{title:"General Reports"},{default:t(()=>[e(g,null,{default:t(()=>[e(s,null,{default:t(()=>[e(l,null,{default:t(()=>[e(m,{text:"view Overall Results Analysis"})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]))}};export{fe as default};
