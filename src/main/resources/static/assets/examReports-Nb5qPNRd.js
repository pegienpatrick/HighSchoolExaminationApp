import{a as g}from"./axios-G2rPRu76.js";import{X as B,r as A,Y as h,c as b,b as t,w as e,o as z,B as s,t as c,u as r,a2 as _,a as n}from"./index-da36zxQg.js";import{V as d,a as l}from"./VRow-ML7Wed7t.js";import{a as R,b as x,V as C}from"./VCard-2WKBUKTx.js";import{V as T}from"./VForm-aDbuf93v.js";import{V as y}from"./VTextField-NB5bkSDZ.js";import{V as N}from"./VSelect-5NLDYKSH.js";/* empty css              */import"./VAvatar-tNbxmyAy.js";import"./VImg-M6_-POrR.js";import"./form-IPn-8Ex9.js";import"./forwardRefs-y8pOSn8h.js";import"./VField-nvO2FZcE.js";import"./index-RAJRrmaN.js";import"./easing-imumzmxr.js";import"./VMenu-7YLHhZml.js";import"./ssrBoot-br2oOC-_.js";import"./VDivider-saeaGujC.js";import"./VOverlay-lgO2AdKb.js";import"./lazy-5LinAJ3H.js";import"./VCheckboxBtn-P8KvS9GZ.js";import"./VChip-tYXUJtdb.js";const E=n("p",null,[n("strong",null,"Title :")],-1),F=n("p",null,[n("strong",null,"Year:")],-1),I=n("p",null,[n("strong",null,"Term : ")],-1),U=n("p",null,[n("strong",null,"Created On : ")],-1),q=n("p",null,[n("strong",null,"Form : ")],-1),st={__name:"examReports",setup(M){const i=B();let S=window.location.protocol+"//"+window.location.hostname+":8080",m=i.currentRoute.value.query.examinationId,V=i.currentRoute.value.query.stage;const p=A({year:2024,term:"",title:""}),u=A({selectedStream:"All",selectedAdm:""});g.get(S+`/api/v1/examination/viewExamination/${m}`,{headers:{Authorization:h.get("Authorization")}}).then(o=>{p.value=o.data});const v=()=>{i.push(`/studentReportCard?examinationId=${m}&admNo=${u.value.selectedAdm}`)},$=()=>{i.push(`/studentReportCards?examinationId=${m}&stage=${V}&stream=${u.value.selectedStream}`)},k=()=>{g.get(S+`/api/v1/reportCard/smsReportCard/${m}/${u.value.selectedAdm}`,{headers:{Authorization:h.get("Authorization")}}).then(o=>{console.log(o),alert(o.data),i.push("/smsStats")}).catch(o=>{console.log(o),alert("error sending:"+o.response.data)})},w=()=>{const o=S+`/api/v1/reportCard/smsReportCards/${m}/${V}?stream=${u.value.selectedStream}`;g.get(o,{headers:{Authorization:h.get("Authorization")}}).then(a=>{console.log(a),alert(a.data),i.push("/smsStats")}).catch(a=>{console.log(a),alert("error sending:"+a.response.data)})};return(o,a)=>(z(),b("div",null,[t(d,null,{default:e(()=>[t(l,null,{default:e(()=>[t(R,null,{default:e(()=>[t(x,null,{default:e(()=>[s(" Exam Reports ")]),_:1}),t(C,null,{default:e(()=>[t(T,null,{default:e(()=>[t(d,null,{default:e(()=>[t(l,null,{default:e(()=>[E,s(" "+c(r(p).title),1)]),_:1})]),_:1}),t(d,null,{default:e(()=>[t(l,{md:"6",cols:"12"},{default:e(()=>[F,s(" "+c(r(p).year),1)]),_:1}),t(l,{md:"6",cols:"12"},{default:e(()=>[I,s(c(r(p).term),1)]),_:1}),t(l,{md:"6",cols:"12"},{default:e(()=>[U,s(c(r(p).date),1)]),_:1}),t(l,{md:"6",cols:"12"},{default:e(()=>[q,s(c(r(V)),1)]),_:1})]),_:1}),t(d,null,{default:e(()=>[t(l)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(d,null,{default:e(()=>[t(l,null,{default:e(()=>[t(R,null,{default:e(()=>[t(x,null,{default:e(()=>[s(" Student Reports ")]),_:1}),t(C,null,{default:e(()=>[t(d,null,{default:e(()=>[t(l,null,{default:e(()=>[t(y,{label:"Enter Student Admission Number",modelValue:r(u).selectedAdm,"onUpdate:modelValue":a[0]||(a[0]=f=>r(u).selectedAdm=f)},null,8,["modelValue"])]),_:1}),t(l,null,{default:e(()=>[t(_,{text:"Open Student Report",onClick:v})]),_:1}),t(l,null,{default:e(()=>[t(_,{text:"Send Report SMS",onClick:k,color:"success"})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(d,null,{default:e(()=>[t(l,null,{default:e(()=>[t(R,null,{default:e(()=>[t(x,null,{default:e(()=>[s(" Bulk Reports ")]),_:1}),t(C,null,{default:e(()=>[t(d,null,{default:e(()=>[t(l,null,{default:e(()=>[t(N,{label:"Select Stream ",items:["All","A","B","C"],modelValue:r(u).selectedStream,"onUpdate:modelValue":a[1]||(a[1]=f=>r(u).selectedStream=f)},null,8,["modelValue"])]),_:1}),t(l,null,{default:e(()=>[t(_,{text:"Fetch Students Reports",onClick:a[2]||(a[2]=f=>$())})]),_:1}),t(l,null,{default:e(()=>[t(_,{text:"Send Student Reports SMS",onClick:w,color:"success"})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]))}};export{st as default};
