import{Q as g,r as E,c as s,n as e,m as a,o as i,b as y,u as r,F as v,a4 as c,l as k,a2 as w,a3 as C,R as _}from"./index-Cp0a3j5Z.js";import{a as U}from"./axios-G2rPRu76.js";import{V as n,a as u}from"./VRow-e59EUwGS.js";import{a as F,b as S,V as B}from"./VCard-f1nee6yo.js";import{V as M}from"./VForm-vHiLR6LN.js";import{V as d}from"./VTextField-74eHDJAa.js";import{V as p}from"./VSelect-Jx7iHon2.js";import{V as $}from"./VCheckbox-XJAyhic4.js";/* empty css              */import"./VAvatar-MKe1hS_I.js";import"./VImg-xuUNPkdI.js";import"./form-xXdqDCjs.js";import"./forwardRefs-y8pOSn8h.js";import"./VField-thFyAEi-.js";import"./index-ogFRjp9r.js";import"./VLabel-X25Up-Eg.js";import"./easing-Apq16fr0.js";import"./VMenu-RzLdOBfR.js";import"./ssrBoot-DBy9na19.js";import"./VDivider-t6YFHrqH.js";import"./VOverlay-x4J7jcA1.js";import"./lazy-Pl5wsFII.js";import"./dialog-transition-VPrIJniv.js";import"./VCheckboxBtn-z-5o5nyt.js";import"./VChip-8MtU5gPv.js";const me={__name:"createExam",setup(h){const V=g();let f=window.location.protocol+"//"+window.location.hostname+":8080";const t=E({year:new Date().getFullYear(),term:"1",title:"",grades:[],sel:{},examinationType:"Exam",marksTo:100});let x=["1","2","3","4"];const T=()=>{t.value.grades=[];for(const m in t.value.sel)t.value.sel[m]&&t.value.grades.push(m);U.post(f+"/api/v1/examination/newExamination",t.value,{headers:{Authorization:_.get("Authorization")}}).then(m=>{console.log(m);let l=m.data.examinationId;V.push(`/viewExam?examinationId=${l}`)}).catch(m=>{console.log(m);var l="";m.response.data.message?l=m.response.data.message:l=m.response.data,alert("error "+l)})};return(m,l)=>(i(),s("div",null,[e(n,null,{default:a(()=>[e(u,null,{default:a(()=>[e(F,null,{default:a(()=>[e(S,null,{default:a(()=>[y(" Creating New Exam ")]),_:1}),e(B,null,{default:a(()=>[e(M,{onSubmit:l[6]||(l[6]=o=>{m.preventDefault(),m.submitform()})},{default:a(()=>[e(n,null,{default:a(()=>[e(u,null,{default:a(()=>[e(d,{placeholder:"Exam Title (e.g Mid term Exam)",label:"Exam Title",type:"text",required:"",modelValue:r(t).title,"onUpdate:modelValue":l[0]||(l[0]=o=>r(t).title=o)},null,8,["modelValue"])]),_:1})]),_:1}),e(n,null,{default:a(()=>[e(u,{md:"6",cols:"12"},{default:a(()=>[e(d,{placeholder:"Enter Year (e.g 2017)",label:"Year",type:"number",min:"2000",modelValue:r(t).year,"onUpdate:modelValue":l[1]||(l[1]=o=>r(t).year=o)},null,8,["modelValue"])]),_:1}),e(u,{md:"6",cols:"12"},{default:a(()=>[e(p,{placeholder:"Select Term",label:"Term",items:["1","2",3],required:"",modelValue:r(t).term,"onUpdate:modelValue":l[2]||(l[2]=o=>r(t).term=o)},null,8,["modelValue"])]),_:1})]),_:1}),e(n,null,{default:a(()=>[e(u,{md:"6",cols:"12"},{default:a(()=>[e(p,{placeholder:"Select Exam Type",label:"Exam Type",items:["CAT","Exam","SummarryExam"],required:"",modelValue:r(t).examinationType,"onUpdate:modelValue":l[3]||(l[3]=o=>r(t).examinationType=o)},null,8,["modelValue"])]),_:1}),e(u,{md:"6",cols:"12"},{default:a(()=>[e(d,{placeholder:"Marks Total (e.g 100)",label:"Marks Total (e.g 100)",type:"number",min:"0",max:"100",modelValue:r(t).marksTo,"onUpdate:modelValue":l[4]||(l[4]=o=>r(t).marksTo=o)},null,8,["modelValue"])]),_:1})]),_:1}),e(n,null,{default:a(()=>[e(u,{md:"6",cols:"12"},{default:a(()=>[(i(!0),s(v,null,c(r(x),o=>(i(),k($,{key:o,label:`Form ${o}`,modelValue:r(t).sel[o],"onUpdate:modelValue":b=>r(t).sel[o]=b},null,8,["label","modelValue","onUpdate:modelValue"]))),128))]),_:1})]),_:1}),e(n,null,{default:a(()=>[e(u,null,{default:a(()=>[e(w,{text:"Create Exam",type:"Submit",onClick:l[5]||(l[5]=C(o=>T(),["prevent"]))})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]))}};export{me as default};
