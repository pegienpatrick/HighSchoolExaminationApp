import{r as g,C as T,z as B,c as E,b as e,w as a,u as o,o as y,a as i,B as c,t as S,e as U,Z as p,a3 as v,a2 as N,l as L,a1 as M}from"./index--uHrWztf.js";import{a as D,b as I,c as F,d as G}from"./auth-v1-tree-dV2febY2.js";import{l as $}from"./logo-lSNaS3Cd.js";import{s as j}from"./sweetalert2.all-4MMZyAwZ.js";import{a as w}from"./axios-G2rPRu76.js";import{a as A,d as R,b as z,V as _}from"./VCard-zro6p-jn.js";import{V as f}from"./VImg-T1wKAj7l.js";import{a as n,V as H}from"./VRow-C1Q3znKN.js";import{V as J}from"./VForm-2G8_3d_f.js";import{V as m}from"./VTextField-YveBRxC6.js";import{V as O}from"./VSelect-EssjzhX8.js";import{V as Y}from"./VCheckbox-B_zzIWl6.js";import{d as Z}from"./VField-A8xS_5ao.js";import"./VDivider-rjHNxqrv.js";import"./VAvatar-UovGB6ZZ.js";/* empty css              */import"./form-gRAo9SrI.js";import"./forwardRefs-y8pOSn8h.js";import"./VMenu-Fh5_tsfm.js";import"./index-EqZBXuIc.js";import"./ssrBoot-YvMPSAVD.js";import"./VOverlay-Ko1djXxg.js";import"./easing-imumzmxr.js";import"./lazy-sG_msKxB.js";import"./VCheckboxBtn-k6b5wbXb.js";import"./VChip-0IljYP5g.js";const q={class:"auth-wrapper d-flex align-center justify-center pa-4"},K={class:"d-flex"},Q=["innerHTML"],W=i("h5",{class:"text-h5 font-weight-semibold mb-1"}," Success starts here 🚀 ",-1),X=i("p",{class:"mb-0"}," Make your Exam management easy and fun! ",-1),ee={class:"text-h6 font-weight-semibold text-error"},oe={class:"d-flex align-center mt-1 mb-4"},te=i("span",{class:"me-1"},"I agree to",-1),le=i("a",{href:"javascript:void(0)",class:"text-primary"},"privacy policy & terms",-1),ae=i("span",null,"Already have an account?",-1);const Me={__name:"register",setup(se){const t=g({fullname:"",gender:"",username:"",email:"",phone:"",password:"",confirmPassword:"",privacyPolicies:!1}),x=T();let b=!1;const k=B(()=>x.global.name.value==="light"?D:I),d=g(!1);let V=window.location.protocol+"//"+window.location.hostname+":8080",u=[];w.get(V+"/api/v1/user/possibleGenders").then(r=>{console.log(r),console.log(u),u=r.data,t.value.gender=u[-1]});const C=async()=>{try{(await j.fire({title:"Success!",text:"Your registration was successful.",icon:"success",confirmButtonText:"Go to Login"})).isConfirmed&&(window.location.href="/")}catch(r){console.error("Error displaying SweetAlert:",r)}},h=()=>{if(t.value.password!=t.value.confirmPassword){t.value.registerError="passwords dont match";return}console.log(JSON.stringify(t.value)),w.post(V+"/api/v1/user/registerUser",t.value).then(r=>{console.log(r),t.value={},C()}).catch(r=>{console.log(r),r.response.status==400?t.value.registerError=r.response.data.fielderrors:t.value.registerError=r.response.data})};return(r,l)=>{const P=L("RouterLink");return y(),E("div",q,[e(A,{class:"auth-card pa-4 pt-7","max-width":"448"},{default:a(()=>[e(R,{class:"justify-center"},{prepend:a(()=>[i("div",K,[i("div",{innerHTML:o($)},null,8,Q)])]),default:a(()=>[e(z,{class:"font-weight-semibold text-2xl text-uppercase"},{default:a(()=>[c(" PExam System ")]),_:1})]),_:1}),e(_,{class:"pt-2"},{default:a(()=>[W,X]),_:1}),e(_,null,{default:a(()=>[e(n,{cols:"12",class:"text-center"},{default:a(()=>[i("p",ee,S(o(t).registerError),1)]),_:1}),o(b)?(y(),U(M,{key:0,indeterminate:"",color:"blue",size:"24",style:{position:"absolute","inset-block-start":"50%","inset-inline-start":"50%",transform:"translate(-50%, -50%)"}})):p("",!0),e(J,{onSubmit:l[10]||(l[10]=v(()=>{h()},["prevent"]))},{default:a(()=>[e(H,null,{default:a(()=>[e(n,{cols:"12"},{default:a(()=>[e(m,{modelValue:o(t).fullname,"onUpdate:modelValue":l[0]||(l[0]=s=>o(t).fullname=s),label:"Full name",placeholder:"Full Name"},null,8,["modelValue"])]),_:1}),e(n,{cols:"12"},{default:a(()=>[e(O,{"model-value":o(t).gender,"onUpdate:modelValue":l[1]||(l[1]=s=>o(t).gender=s),items:o(u),label:"Gender"},null,8,["model-value","items"])]),_:1}),e(n,{cols:"12"},{default:a(()=>[e(m,{modelValue:o(t).username,"onUpdate:modelValue":l[2]||(l[2]=s=>o(t).username=s),label:"Username",placeholder:"username"},null,8,["modelValue"])]),_:1}),e(n,{cols:"12"},{default:a(()=>[e(m,{modelValue:o(t).email,"onUpdate:modelValue":l[3]||(l[3]=s=>o(t).email=s),label:"Email",placeholder:"ENter email",type:"email"},null,8,["modelValue"])]),_:1}),e(n,{cols:"12"},{default:a(()=>[e(m,{modelValue:o(t).phone,"onUpdate:modelValue":l[4]||(l[4]=s=>o(t).phone=s),label:"Phone",placeholder:"Enter Phone",type:"tel"},null,8,["modelValue"])]),_:1}),e(n,{cols:"12"},{default:a(()=>[e(m,{modelValue:o(t).password,"onUpdate:modelValue":l[5]||(l[5]=s=>o(t).password=s),label:"Password",placeholder:"············",type:o(d)?"text":"password","append-inner-icon":o(d)?"ri-eye-off-line":"ri-eye-line","onClick:appendInner":l[6]||(l[6]=s=>d.value=!o(d))},null,8,["modelValue","type","append-inner-icon"])]),_:1}),e(n,{cols:"12"},{default:a(()=>[e(m,{modelValue:o(t).confirmPassword,"onUpdate:modelValue":l[7]||(l[7]=s=>o(t).confirmPassword=s),label:"Confirm Password",placeholder:"············",type:o(d)?"text":"password","append-inner-icon":o(d)?"ri-eye-off-line":"ri-eye-line","onClick:appendInner":l[8]||(l[8]=s=>d.value=!o(d))},null,8,["modelValue","type","append-inner-icon"]),i("div",oe,[e(Y,{id:"privacy-policy",modelValue:o(t).privacyPolicies,"onUpdate:modelValue":l[9]||(l[9]=s=>o(t).privacyPolicies=s),inline:""},null,8,["modelValue"]),e(Z,{for:"privacy-policy",style:{opacity:"1"}},{default:a(()=>[te,le]),_:1})]),e(N,{block:"",type:"submit",onClick:v(h,["prevent"])},{default:a(()=>[c(" Sign up ")]),_:1})]),_:1}),e(n,{cols:"12",class:"text-center text-base"},{default:a(()=>[ae,e(P,{class:"text-primary ms-2",to:"login"},{default:a(()=>[c(" Sign in instead ")]),_:1})]),_:1}),p("",!0),p("",!0)]),_:1})]),_:1})]),_:1})]),_:1}),e(f,{class:"auth-footer-start-tree d-none d-md-block",src:o(F),width:250},null,8,["src"]),e(f,{src:o(G),class:"auth-footer-end-tree d-none d-md-block",width:350},null,8,["src"]),e(f,{class:"auth-footer-mask d-none d-md-block",src:o(k)},null,8,["src"])])}}};export{Me as default};
