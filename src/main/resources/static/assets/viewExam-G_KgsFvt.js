import{Q as I,r as k,c as x,u as a,n as t,m as e,F as $,a4 as M,Z as U,R as h,o as p,a2 as m,V,b as s,t as f,l as D,a as o,a3 as L}from"./index-Cp0a3j5Z.js";import{a as w}from"./axios-G2rPRu76.js";import{s as N}from"./sweetalert2.all-PSZh9BpD.js";import{V as i,a as l}from"./VRow-e59EUwGS.js";import{V as S}from"./VDialog-xBvQGnoj.js";import{V as g}from"./VLabel-X25Up-Eg.js";import{a as E,b as B,V as v,d as O}from"./VCard-f1nee6yo.js";import{V as A}from"./VForm-vHiLR6LN.js";import{V as Y}from"./VTextField-74eHDJAa.js";import{V as R}from"./VSpacer-m-kjo5WO.js";/* empty css              */import"./VOverlay-x4J7jcA1.js";import"./easing-Apq16fr0.js";import"./lazy-Pl5wsFII.js";import"./VImg-xuUNPkdI.js";import"./forwardRefs-y8pOSn8h.js";import"./dialog-transition-VPrIJniv.js";import"./VAvatar-MKe1hS_I.js";import"./form-xXdqDCjs.js";import"./VField-thFyAEi-.js";import"./index-ogFRjp9r.js";const q={key:0},G=o("p",null,[o("strong",null,"Title :")],-1),Q=o("p",null,[o("strong",null,"Year:")],-1),Z=o("p",null,[o("strong",null,"Term : ")],-1),j=o("p",null,[o("strong",null,"Examination Type : ")],-1),H=o("p",null,[o("strong",null,"Marks out Of : ")],-1),J=o("p",null,[o("strong",null,"Created On : ")],-1),Vt={__name:"viewExam",setup(K){const T=I();let C=window.location.protocol+"//"+window.location.hostname+":8080",_=T.currentRoute.value.query.examinationId;const n=k({year:2024,term:"",title:""}),y=()=>{w.get(C+`/api/v1/examination/viewExamination/${_}`,{headers:{Authorization:h.get("Authorization")}}).then(d=>{n.value=d.data})};y();const b=()=>{N.fire({title:"Delete Exam",text:"Are you sure you want to delete this Exam?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, delete it!"}).then(d=>{if(d.isConfirmed){const c=window.location.protocol+"//"+window.location.hostname+":8080";w.delete(c+`/api/v1/examination/delete/${_}`,{headers:{Authorization:h.get("Authorization")}}).then(u=>{console.log(u),T.go(-1)})}})},r=k({show:!1,num:"",title:""}),z=()=>{r.value.show=!0,r.value.num=n.value.num,r.value.title=n.value.title},F=()=>{w.put(C+"/api/v1/examination/updateExamTitle",r.value,{headers:{Authorization:h.get("Authorization")}}).then(d=>{console.log(d),r.value.show=!1,y()}).catch(d=>{console.log(d.respose)})};return(d,c)=>(p(),x($,null,[a(n).deleted==!1?(p(),x("div",q,[t(i,null,{default:e(()=>[t(l,null,{default:e(()=>[t(m,{to:`/viewExaminations?year=${a(n).year}&term=${a(n).term}`,text:"Current Term"},{default:e(()=>[t(V,{icon:"ri-table-line"}),t(g),s(" view Current Term ")]),_:1},8,["to"])]),_:1})]),_:1}),t(i,null,{default:e(()=>[t(l,null,{default:e(()=>[t(E,null,{default:e(()=>[t(B,null,{default:e(()=>[s(" Exarm Information ")]),_:1}),t(v,null,{default:e(()=>[t(A,null,{default:e(()=>[t(i,null,{default:e(()=>[t(l,null,{default:e(()=>[G,s(" "+f(a(n).title),1)]),_:1})]),_:1}),t(i,null,{default:e(()=>[t(l,{md:"6",cols:"12"},{default:e(()=>[Q,s(" "+f(a(n).year),1)]),_:1}),t(l,{md:"6",cols:"12"},{default:e(()=>[Z,s(f(a(n).term),1)]),_:1}),t(l,{md:"6",cols:"12"},{default:e(()=>[j,s(f(a(n).examinationType),1)]),_:1}),t(l,{md:"6",cols:"12"},{default:e(()=>[H,s(f(a(n).marksTo),1)]),_:1}),t(l,{md:"6",cols:"12"},{default:e(()=>[J,s(f(a(n).date),1)]),_:1})]),_:1}),t(i,null,{default:e(()=>[t(l,null,{default:e(()=>[t(m,{text:"Delete Exam",color:"warning",onClick:b},{default:e(()=>[t(V,{icon:"ri-eraser-line"}),t(g,{text:"Delete Exam"})]),_:1})]),_:1}),t(l),t(l,null,{default:e(()=>[t(m,{text:"Edit Title",color:"secondary",onClick:z},{default:e(()=>[t(V,{icon:"ri-edit-line"}),t(g,{text:"Edit Title"})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),(p(!0),x($,null,M(a(n).grade,u=>(p(),D(i,{key:u},{default:e(()=>[t(l,null,{default:e(()=>[t(E,null,{default:e(()=>[t(B,null,{default:e(()=>[o("p",null,[o("strong",null,"Form "+f(u),1)])]),_:2},1024),t(v,null,{default:e(()=>[t(i,null,{default:e(()=>[t(l,null,{default:e(()=>[t(m,{to:`/marksSheet?exam=${a(_)}&stage=${u}`,text:"Marks Entry"},null,8,["to"])]),_:2},1024),t(l,null,{default:e(()=>[t(m,{text:"View Merit List",to:`/viewMeritList?exam=${a(_)}&stage=${u}`},null,8,["to"])]),_:2},1024),t(l,null,{default:e(()=>[t(m,{to:`/generateMeritList?exam=${a(_)}&stage=${u}`,text:"Generate Exam Results"},null,8,["to"])]),_:2},1024),t(l,null,{default:e(()=>[t(m,{text:"Reports",to:`/viewExamReports?examinationId=${a(_)}&stage=${u}`},null,8,["to"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))])):U("",!0),t(S,{modelValue:a(r).show,"onUpdate:modelValue":c[1]||(c[1]=u=>a(r).show=u),class:"modal fade small-modal",cols:"12","max-width":"600"},{default:e(()=>[t(i,null,{default:e(()=>[t(l,null,{default:e(()=>[t(E,{title:"Edit Exam Title"},{default:e(()=>[t(v,null,{default:e(()=>[t(A,null,{default:e(()=>[t(i,null,{default:e(()=>[t(l,null,{default:e(()=>[t(Y,{label:"New Exam Title",modelValue:a(r).title,"onUpdate:modelValue":c[0]||(c[0]=u=>a(r).title=u)},null,8,["modelValue"])]),_:1})]),_:1}),t(R),t(R),t(O,null,{default:e(()=>[t(i,null,{default:e(()=>[t(l,null,{default:e(()=>[t(m,{text:"Update Title",type:"submit",color:"primary",onClick:L(F,["prevent"])},{default:e(()=>[s(" Update Title ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};export{Vt as default};
