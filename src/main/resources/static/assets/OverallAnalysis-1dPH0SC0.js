import{a as R}from"./axios-G2rPRu76.js";import{_ as C,Q as V,r,ac as U,l as I,m as t,a5 as E,R as A,o as k,n as a,a2 as i,V as w,b as u,a as d,t as g}from"./index-K_k6ND3E.js";import{V as m,a as l}from"./VRow-T7aeklux.js";import{V as L}from"./VLabel-X9XlDOqr.js";import{a as _,b as B,V as p}from"./VCard-ErPIkXyl.js";import{V as D}from"./VContainer-I6xkhXEC.js";/* empty css              */import"./VAvatar-Dku5dScd.js";import"./VImg-SduuTbD5.js";V();const M={setup(){const x=r({}),h=r(""),s=r(""),e=r({data:"",title:""}),o=r({data:"",stream:""});r(null);const c=V(),v=()=>{o.value.data=c.currentRoute.value.query.stage,o.value.stream=c.currentRoute.value.query.stream,s.value=c.currentRoute.value.query.examinationId;const b=window.location.protocol+"//"+window.location.hostname+":8080"+`/api/v1/meritList/viewAnalysis/${s.value}/${o.value.data}?stream=${o.value.stream}`;R.get(b,{responseType:"blob",headers:{Authorization:A.get("Authorization")}}).then(f=>{const y=new Blob([f.data],{type:"application/pdf"}),n=document.createElement("a");n.href=URL.createObjectURL(y),n.download=o.value.data+o.value.stream+s.value+" Report Card.pdf",document.body.appendChild(n),document.body.removeChild(n),e.value.data=n.href,e.value.title=n.download}).catch(f=>{console.error("Error fetching PDF:",f)})};return U(()=>{v()}),{studentDetails:x,admNo:h,examinationId:s,pdfUrl:e,loadPdf:v,stage:o}}},N=d("strong",null,"Form :",-1),T=d("strong",null,"Stream : ",-1),q=["download","href"],O=["src","title"];function S(x,h,s,e,o,c){return k(),I(E,null,{default:t(()=>[a(D,null,{default:t(()=>[a(m,null,{default:t(()=>[a(l,null,{default:t(()=>[a(i,{to:`/viewExam?examinationId=${e.examinationId}&stage=${e.stage.data}`,text:"Exam Home"},{default:t(()=>[a(w,{icon:"ri-home-line"}),a(L),u(" Exam Home ")]),_:1},8,["to"])]),_:1}),a(l,null,{default:t(()=>[a(i,{to:`/marksSheet?exam=${e.examinationId}&stage=${e.stage.data}`,text:"view Marks"},null,8,["to"])]),_:1}),a(l,null,{default:t(()=>[a(i,{text:"View Merit List",to:`/viewMeritList?exam=${e.examinationId}&stage=${e.stage.data}`},null,8,["to"])]),_:1}),a(l,null,{default:t(()=>[a(i,{text:"Reports",to:`/viewExamReports?examinationId=${e.examinationId}&stage=${e.stage.data}`},null,8,["to"])]),_:1})]),_:1}),a(m,null,{default:t(()=>[a(l,{cols:"12"},{default:t(()=>[a(_,{elevation:"3"},{default:t(()=>[a(B,{class:"text-h6 font-weight-bold"},{default:t(()=>[u("Overall Exam Analysis")]),_:1}),a(p,null,{default:t(()=>[a(l,{cols:"12"},{default:t(()=>[a(_,{title:"Exam Analysis"},{default:t(()=>[a(p,{class:"d-flex"},{default:t(()=>[a(m,null,{default:t(()=>[a(l,{md:"6",cols:"12"},{default:t(()=>[d("p",null,[N,u(" "+g(e.stage.data),1)])]),_:1}),a(l,{md:"6",cols:"12"},{default:t(()=>[d("p",null,[T,u(" "+g(e.stage.stream),1)])]),_:1})]),_:1})]),_:1}),d("a",{class:"btn btn-primary",color:"success",download:e.pdfUrl.title,href:e.pdfUrl.data},[a(i,{text:"Download"},{default:t(()=>[u(" Download _ "),a(w,{icon:"ri-download-line"})]),_:1})],8,q)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),a(m,null,{default:t(()=>[a(l,null,{default:t(()=>[a(_,null,{default:t(()=>[a(p,null,{default:t(()=>[d("iframe",{src:e.pdfUrl.data,width:"100%",height:"1000",frameborder:"0",title:e.pdfUrl.title},null,8,O)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}const W=C(M,[["render",S]]);export{W as default};
